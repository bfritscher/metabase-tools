[
  {
    "name": "ALL Financial Bank Evolution",
    "description": null,
    "dataset_query": {
      "type": "native",
      "native": {
        "query": "with data as (\nSELECT \"cube_financial\".\"company\" AS \"company\", \"cube_financial\".\"date\" AS \"date\", sum(\"cube_financial\".\"amount\")*-1 AS \"sum\"\nFROM \"cube_financial\"\nWHERE \"cube_financial\".\"account\" = 'Bank' AND {{classroom}} AND {{game}}\nGROUP BY \"cube_financial\".\"company\", \"cube_financial\".\"date\"\nORDER BY \"cube_financial\".\"company\" ASC, \"cube_financial\".\"date\" ASC\n)\nSELECT company, date, sum(sum) over (partition by company order by date asc rows between unbounded preceding and current row) FROM data\n",
        "template-tags": {
          "classroom": {
            "id": "61f10810-d659-4b0b-ac3b-16972799efa5",
            "name": "classroom",
            "display-name": "Classroom",
            "type": "dimension",
            "dimension": [
              "field",
              "cube_financial.classroom",
              null
            ],
            "widget-type": "string/=",
            "default": [
              "2-PTA"
            ],
            "required": true
          },
          "game": {
            "id": "d47b78ef-4821-0e2c-55fd-dc391d862e15",
            "name": "game",
            "display-name": "Game",
            "type": "dimension",
            "dimension": [
              "field",
              "cube_financial.game",
              null
            ],
            "widget-type": "string/=",
            "default": [
              "BI2 2-PTA"
            ],
            "required": true
          }
        }
      },
      "database": "Aroolla 2-PTA"
    },
    "display": "line",
    "visualization_settings": {
      "graph.show_values": false,
      "graph.show_goal": true,
      "graph.dimensions": [
        "date",
        "company"
      ],
      "pivot_table.column_split": {
        "rows": [
          [
            "field",
            149,
            {
              "temporal-unit": "day"
            }
          ]
        ],
        "columns": [
          [
            "field",
            157,
            null
          ]
        ],
        "values": [
          [
            "aggregation",
            0
          ]
        ]
      },
      "graph.goal_label": "",
      "graph.goal_value": 1000000,
      "graph.metrics": [
        "sum"
      ]
    },
    "parameters": [
      {
        "id": "61f10810-d659-4b0b-ac3b-16972799efa5",
        "type": "string/=",
        "target": [
          "dimension",
          [
            "template-tag",
            "classroom"
          ]
        ],
        "name": "Classroom",
        "slug": "classroom",
        "default": [
          "2-PTA"
        ]
      },
      {
        "id": "d47b78ef-4821-0e2c-55fd-dc391d862e15",
        "type": "string/=",
        "target": [
          "dimension",
          [
            "template-tag",
            "game"
          ]
        ],
        "name": "Game",
        "slug": "game",
        "default": [
          "BI2 2-PTA"
        ]
      }
    ],
    "result_metadata": [
      {
        "display_name": "company",
        "field_ref": [
          "field",
          "company",
          {
            "base-type": "type/Text"
          }
        ],
        "name": "company",
        "base_type": "type/Text",
        "effective_type": "type/Text",
        "semantic_type": "type/Company",
        "fingerprint": {
          "global": {
            "distinct-count": 8,
            "nil%": 0.0
          },
          "type": {
            "type/Text": {
              "percent-json": 0.0,
              "percent-url": 0.0,
              "percent-email": 0.0,
              "percent-state": 0.0,
              "average-length": 1.0
            }
          }
        }
      },
      {
        "display_name": "date",
        "field_ref": [
          "field",
          "date",
          {
            "base-type": "type/Date"
          }
        ],
        "name": "date",
        "base_type": "type/Date",
        "effective_type": "type/Date",
        "semantic_type": null,
        "fingerprint": {
          "global": {
            "distinct-count": 19,
            "nil%": 0.0
          },
          "type": {
            "type/DateTime": {
              "earliest": "2023-07-01T00:00:00Z",
              "latest": "2023-07-20T00:00:00Z"
            }
          }
        }
      },
      {
        "display_name": "sum",
        "field_ref": [
          "field",
          "sum",
          {
            "base-type": "type/Decimal"
          }
        ],
        "name": "sum",
        "base_type": "type/Decimal",
        "effective_type": "type/Decimal",
        "semantic_type": null,
        "fingerprint": {
          "global": {
            "distinct-count": 136,
            "nil%": 0.0
          },
          "type": {
            "type/Number": {
              "min": 167071.5,
              "q1": 780902.6160473702,
              "q3": 1705453.5025938917,
              "max": 2321041.0,
              "sd": 547147.7067993683,
              "avg": 1251986.8018181818
            }
          }
        }
      }
    ]
  },
  {
    "name": "ALL Financial Debts Evolution",
    "description": null,
    "dataset_query": {
      "type": "native",
      "native": {
        "query": "with data as (\nSELECT \"cube_financial\".\"company\" AS \"company\", \"cube_financial\".\"date\" AS \"date\", sum(\"cube_financial\".\"amount\") AS \"sum\"\nFROM \"cube_financial\"\nWHERE \"cube_financial\".\"account\" = 'Bank Overdraft (Bank)' AND {{classroom}} AND {{game}}\nGROUP BY \"cube_financial\".\"company\", \"cube_financial\".\"date\"\nORDER BY \"cube_financial\".\"company\" ASC, \"cube_financial\".\"date\" ASC\n)\nSELECT company, date, sum(sum) over (partition by company order by date asc rows between unbounded preceding and current row) FROM data\n",
        "template-tags": {
          "classroom": {
            "id": "61f10810-d659-4b0b-ac3b-16972799efa5",
            "name": "classroom",
            "display-name": "Classroom",
            "type": "dimension",
            "dimension": [
              "field",
              "cube_financial.classroom",
              null
            ],
            "widget-type": "string/=",
            "default": [
              "2-PTA"
            ],
            "required": true
          },
          "game": {
            "id": "d47b78ef-4821-0e2c-55fd-dc391d862e15",
            "name": "game",
            "display-name": "Game",
            "type": "dimension",
            "dimension": [
              "field",
              "cube_financial.game",
              null
            ],
            "widget-type": "string/=",
            "default": [
              "BI2 2-PTA"
            ],
            "required": true
          }
        }
      },
      "database": "Aroolla 2-PTA"
    },
    "display": "line",
    "visualization_settings": {
      "graph.show_values": false,
      "graph.show_goal": false,
      "graph.dimensions": [
        "date",
        "company"
      ],
      "pivot_table.column_split": {
        "rows": [
          [
            "field",
            149,
            {
              "temporal-unit": "day"
            }
          ]
        ],
        "columns": [
          [
            "field",
            157,
            null
          ]
        ],
        "values": [
          [
            "aggregation",
            0
          ]
        ]
      },
      "graph.metrics": [
        "sum"
      ]
    },
    "parameters": [
      {
        "id": "61f10810-d659-4b0b-ac3b-16972799efa5",
        "type": "string/=",
        "target": [
          "dimension",
          [
            "template-tag",
            "classroom"
          ]
        ],
        "name": "Classroom",
        "slug": "classroom",
        "default": [
          "2-PTA"
        ]
      },
      {
        "id": "d47b78ef-4821-0e2c-55fd-dc391d862e15",
        "type": "string/=",
        "target": [
          "dimension",
          [
            "template-tag",
            "game"
          ]
        ],
        "name": "Game",
        "slug": "game",
        "default": [
          "BI2 2-PTA"
        ]
      }
    ],
    "result_metadata": [
      {
        "display_name": "company",
        "field_ref": [
          "field",
          "company",
          {
            "base-type": "type/Text"
          }
        ],
        "name": "company",
        "base_type": "type/Text",
        "effective_type": "type/Text",
        "semantic_type": "type/Company",
        "fingerprint": {
          "global": {
            "distinct-count": 8,
            "nil%": 0.0
          },
          "type": {
            "type/Text": {
              "percent-json": 0.0,
              "percent-url": 0.0,
              "percent-email": 0.0,
              "percent-state": 0.0,
              "average-length": 1.0
            }
          }
        }
      },
      {
        "display_name": "date",
        "field_ref": [
          "field",
          "date",
          {
            "base-type": "type/Date"
          }
        ],
        "name": "date",
        "base_type": "type/Date",
        "effective_type": "type/Date",
        "semantic_type": null,
        "fingerprint": {
          "global": {
            "distinct-count": 1,
            "nil%": 0.0
          },
          "type": {
            "type/DateTime": {
              "earliest": "2023-07-01T00:00:00Z",
              "latest": "2023-07-01T00:00:00Z"
            }
          }
        }
      },
      {
        "display_name": "sum",
        "field_ref": [
          "field",
          "sum",
          {
            "base-type": "type/Decimal"
          }
        ],
        "name": "sum",
        "base_type": "type/Decimal",
        "effective_type": "type/Decimal",
        "semantic_type": null,
        "fingerprint": {
          "global": {
            "distinct-count": 1,
            "nil%": 0.0
          },
          "type": {
            "type/Number": {
              "min": 0.0,
              "q1": 0.0,
              "q3": 0.0,
              "max": 0.0,
              "sd": 0.0,
              "avg": 0.0
            }
          }
        }
      }
    ]
  },
  {
    "name": "ALL Financial Profit Evolution",
    "description": null,
    "dataset_query": {
      "database": "Aroolla 2-PTA",
      "native": {
        "template-tags": {
          "classroom": {
            "id": "425cce7f-5c26-08c3-bca7-0ffe024af868",
            "name": "classroom",
            "display-name": "Classroom",
            "type": "dimension",
            "dimension": [
              "field",
              "cube_financial.classroom",
              null
            ],
            "widget-type": "string/=",
            "required": true,
            "default": [
              "2-PTA"
            ]
          },
          "game": {
            "id": "caf139d8-a6a9-0d83-c8b4-842c308dd654",
            "name": "game",
            "display-name": "Game",
            "type": "dimension",
            "dimension": [
              "field",
              "cube_financial.game",
              null
            ],
            "widget-type": "string/=",
            "default": [
              "BI2 2-PTA"
            ],
            "required": true
          }
        },
        "query": "with data as (\r\nSELECT \"cube_financial\".\"company\" AS \"company\", \"cube_financial\".\"date\" AS \"date\", sum(\"cube_financial\".\"amount\") AS \"sum\"\r\nFROM \"cube_financial\"\r\nWHERE ((\"cube_financial\".\"type\" = 'Income'\r\n    OR \"cube_financial\".\"type\" = 'Expenses')\r\n   AND {{classroom}} AND {{game}} )\r\nGROUP BY \"cube_financial\".\"company\", \"cube_financial\".\"date\"\r\nORDER BY \"cube_financial\".\"company\" ASC, \"cube_financial\".\"date\" ASC\r\n)\r\nSELECT company, date, sum(sum) over (partition by company order by date asc rows between unbounded preceding and current row) FROM data\r\n"
      },
      "type": "native"
    },
    "display": "line",
    "visualization_settings": {
      "graph.show_goal": true,
      "graph.y_axis.title_text": "Bénéfice",
      "graph.show_values": false,
      "table.cell_column": "sum",
      "graph.goal_label": "Min",
      "graph.x_axis.title_text": "Jours",
      "graph.y_axis.auto_split": true,
      "graph.label_value_frequency": "fit",
      "graph.metrics": [
        "sum"
      ],
      "table.pivot_column": "company",
      "column_settings": {
        "[\"name\",\"date\"]": {
          "date_abbreviate": true,
          "date_style": "D/M/YYYY"
        }
      },
      "graph.y_axis.auto_range": true,
      "graph.x_axis.scale": "timeseries",
      "graph.dimensions": [
        "date",
        "company"
      ]
    },
    "parameters": [
      {
        "id": "425cce7f-5c26-08c3-bca7-0ffe024af868",
        "type": "string/=",
        "target": [
          "dimension",
          [
            "template-tag",
            "classroom"
          ]
        ],
        "name": "Classroom",
        "slug": "classroom",
        "default": [
          "2-PTA"
        ]
      },
      {
        "id": "caf139d8-a6a9-0d83-c8b4-842c308dd654",
        "type": "string/=",
        "target": [
          "dimension",
          [
            "template-tag",
            "game"
          ]
        ],
        "name": "Game",
        "slug": "game",
        "default": [
          "BI2 2-PTA"
        ]
      }
    ],
    "result_metadata": [
      {
        "display_name": "company",
        "field_ref": [
          "field",
          "company",
          {
            "base-type": "type/Text"
          }
        ],
        "name": "company",
        "base_type": "type/Text",
        "effective_type": "type/Text",
        "semantic_type": "type/Company",
        "fingerprint": {
          "global": {
            "distinct-count": 8,
            "nil%": 0.0
          },
          "type": {
            "type/Text": {
              "percent-json": 0.0,
              "percent-url": 0.0,
              "percent-email": 0.0,
              "percent-state": 0.0,
              "average-length": 1.0
            }
          }
        }
      },
      {
        "display_name": "date",
        "field_ref": [
          "field",
          "date",
          {
            "base-type": "type/Date"
          }
        ],
        "name": "date",
        "base_type": "type/Date",
        "effective_type": "type/Date",
        "semantic_type": null,
        "fingerprint": {
          "global": {
            "distinct-count": 27,
            "nil%": 0.0
          },
          "type": {
            "type/DateTime": {
              "earliest": "2023-07-03T00:00:00Z",
              "latest": "2023-07-29T00:00:00Z"
            }
          }
        }
      },
      {
        "display_name": "sum",
        "field_ref": [
          "field",
          "sum",
          {
            "base-type": "type/Decimal"
          }
        ],
        "name": "sum",
        "base_type": "type/Decimal",
        "effective_type": "type/Decimal",
        "semantic_type": null,
        "fingerprint": {
          "global": {
            "distinct-count": 195,
            "nil%": 0.0
          },
          "type": {
            "type/Number": {
              "min": -169061.57,
              "q1": 31084.606707415416,
              "q3": 475567.465625,
              "max": 1814860.5,
              "sd": 427738.0090167404,
              "avg": 325009.0101951219
            }
          }
        }
      }
    ]
  },
  {
    "name": "ALL Gross Margin by Date",
    "description": null,
    "dataset_query": {
      "type": "native",
      "native": {
        "template-tags": {
          "classroom": {
            "id": "982d8db0-319f-8e7a-77c7-d534904833a1",
            "name": "classroom",
            "display-name": "Classroom",
            "type": "dimension",
            "dimension": [
              "field",
              "cube_sales.classroom",
              null
            ],
            "widget-type": "string/=",
            "default": [
              "2-PTA"
            ],
            "required": true
          },
          "game": {
            "id": "555ac0b6-9e04-be0e-045b-44e723483dc7",
            "name": "game",
            "display-name": "Game",
            "type": "dimension",
            "dimension": [
              "field",
              "cube_sales.game",
              null
            ],
            "widget-type": "string/=",
            "default": [
              "BI2 2-PTA"
            ],
            "required": true
          }
        },
        "query": "SELECT \n  \"sales\".\"date\" AS \"date\",\n  \"sales\".\"company\" AS \"company\", \n  (\n    (\n      CAST(\n        (\n          sum(\"sales\".\"sum\") - sum(\"inventory\".\"COGS\")\n        ) AS float\n      ) / CASE WHEN sum(\"sales\".\"sum\") = 0 THEN NULL ELSE sum(\"sales\".\"sum\") END\n    ) * 100\n  ) AS \"Gross margin\" \nFROM \n  (\n    SELECT \n      \"cube_sales\".\"company\" AS \"company\", \n      \"cube_sales\".\"classroom\" AS \"classroom\", \n      \"cube_sales\".\"game\" AS \"game\", \n      \"cube_sales\".\"date_invoice\" AS \"date\",\n      sum(\"cube_sales\".\"price_total\") AS \"sum\" \n    FROM \n      \"cube_sales\" \n    WHERE \n  (\n    {{ classroom }} AND\n    {{ game }}\n  ) \n    GROUP BY \n      \"cube_sales\".\"company\", \n      \"cube_sales\".\"classroom\", \n      \"cube_sales\".\"game\", \n      \"cube_sales\".\"date_invoice\"\n  ) \"sales\" \n  INNER JOIN (\n    SELECT \n      \"cube_inventory\".\"company\" AS \"company\", \n      \"cube_inventory\".\"game\" AS \"game\", \n      \"cube_inventory\".\"classroom\" AS \"classroom\", \n      \"cube_inventory\".\"date\",\n      (\n        sum(\"cube_inventory\".\"valuation\") * -1\n      ) AS \"COGS\" \n    FROM \n      \"cube_inventory\" \n    WHERE \n      \"cube_inventory\".\"destination\" = 'Customers' \n    GROUP BY \n      \"cube_inventory\".\"company\", \n      \"cube_inventory\".\"game\", \n      \"cube_inventory\".\"classroom\",\n      \"cube_inventory\".\"date\"\n  ) \"inventory\" ON (\n    \"sales\".\"company\" = \"inventory\".\"company\" \n    AND \"sales\".\"classroom\" = \"inventory\".\"classroom\" \n    AND \"sales\".\"game\" = \"inventory\".\"game\" \n    AND \"sales\".\"date\" = \"inventory\".\"date\"\n  ) \nGROUP BY \n  \"sales\".\"company\", \n  \"sales\".\"date\"\nORDER BY \n  \"sales\".\"date\" ASC, \n  \"sales\".\"company\" ASC\n"
      },
      "database": "Aroolla 2-PTA"
    },
    "display": "line",
    "visualization_settings": {
      "graph.show_goal": true,
      "pivot_table.column_split": {
        "rows": [
          [
            "field",
            170,
            null
          ]
        ],
        "columns": [
          [
            "field",
            167,
            null
          ]
        ],
        "values": [
          [
            "aggregation",
            0
          ]
        ]
      },
      "graph.show_values": true,
      "table.pivot": true,
      "table.cell_column": "Gross margin",
      "graph.goal_label": "0",
      "graph.x_axis.axis_enabled": true,
      "graph.goal_value": 0,
      "graph.metrics": [
        "Gross margin"
      ],
      "table.pivot_column": "company",
      "column_settings": {
        "[\"name\",\"Gross margin\"]": {
          "number_style": "decimal",
          "decimals": 2
        },
        "[\"name\",\"date\"]": {
          "date_abbreviate": true,
          "date_style": "D/M/YYYY"
        }
      },
      "graph.dimensions": [
        "date",
        "company"
      ]
    },
    "parameters": [
      {
        "id": "982d8db0-319f-8e7a-77c7-d534904833a1",
        "type": "string/=",
        "target": [
          "dimension",
          [
            "template-tag",
            "classroom"
          ]
        ],
        "name": "Classroom",
        "slug": "classroom",
        "default": [
          "2-PTA"
        ]
      },
      {
        "id": "555ac0b6-9e04-be0e-045b-44e723483dc7",
        "type": "string/=",
        "target": [
          "dimension",
          [
            "template-tag",
            "game"
          ]
        ],
        "name": "Game",
        "slug": "game",
        "default": [
          "BI2 2-PTA"
        ]
      }
    ],
    "result_metadata": [
      {
        "display_name": "date",
        "field_ref": [
          "field",
          "date",
          {
            "base-type": "type/Date"
          }
        ],
        "name": "date",
        "base_type": "type/Date",
        "effective_type": "type/Date",
        "semantic_type": null,
        "fingerprint": {
          "global": {
            "distinct-count": 37,
            "nil%": 0.0
          },
          "type": {
            "type/DateTime": {
              "earliest": "2023-07-04T00:00:00Z",
              "latest": "2023-08-09T00:00:00Z"
            }
          }
        }
      },
      {
        "display_name": "company",
        "field_ref": [
          "field",
          "company",
          {
            "base-type": "type/Text"
          }
        ],
        "name": "company",
        "base_type": "type/Text",
        "effective_type": "type/Text",
        "semantic_type": "type/Company",
        "fingerprint": {
          "global": {
            "distinct-count": 8,
            "nil%": 0.0
          },
          "type": {
            "type/Text": {
              "percent-json": 0.0,
              "percent-url": 0.0,
              "percent-email": 0.0,
              "percent-state": 0.0,
              "average-length": 1.0
            }
          }
        }
      },
      {
        "display_name": "Gross margin",
        "field_ref": [
          "field",
          "Gross margin",
          {
            "base-type": "type/Float"
          }
        ],
        "name": "Gross margin",
        "base_type": "type/Float",
        "effective_type": "type/Float",
        "semantic_type": "type/GrossMargin",
        "fingerprint": {
          "global": {
            "distinct-count": 242,
            "nil%": 0.0
          },
          "type": {
            "type/Number": {
              "min": -16.873065015479877,
              "q1": 23.918514690985024,
              "q3": 36.61172111977379,
              "max": 56.88993191750491,
              "sd": 12.600696998305496,
              "avg": 31.050027253724
            }
          }
        }
      }
    ]
  },
  {
    "name": "ALL Gross Margin by Date with calendar",
    "description": null,
    "dataset_query": {
      "type": "native",
      "native": {
        "template-tags": {
          "classroom": {
            "id": "982d8db0-319f-8e7a-77c7-d534904833a1",
            "name": "classroom",
            "display-name": "Classroom",
            "type": "dimension",
            "dimension": [
              "field",
              "cube_sales.classroom",
              null
            ],
            "widget-type": "string/=",
            "default": [
              "2-PTA"
            ],
            "required": true
          },
          "game": {
            "id": "555ac0b6-9e04-be0e-045b-44e723483dc7",
            "name": "game",
            "display-name": "Game",
            "type": "dimension",
            "dimension": [
              "field",
              "cube_sales.game",
              null
            ],
            "widget-type": "string/=",
            "default": [
              "BI2 2-PTA"
            ],
            "required": true
          }
        },
        "query": "SELECT d.date, company, \"Gross margin\", \"day\", \"round\"\nFROM (\nSELECT \n  \"sales\".\"date\" AS \"date\",\n  \"sales\".\"company\" AS \"company\",\n  \"sales\".\"game\",\n  \"sales\".\"classroom\",\n  (\n    (\n      CAST(\n        (\n          sum(\"sales\".\"sum\") - sum(\"inventory\".\"COGS\")\n        ) AS float\n      ) / CASE WHEN sum(\"sales\".\"sum\") = 0 THEN NULL ELSE sum(\"sales\".\"sum\") END\n    ) * 100\n  ) AS \"Gross margin\" \nFROM \n  (\n    SELECT \n      \"cube_sales\".\"company\" AS \"company\", \n      \"cube_sales\".\"classroom\" AS \"classroom\", \n      \"cube_sales\".\"game\" AS \"game\", \n      \"cube_sales\".\"date_invoice\" AS \"date\",\n      sum(\"cube_sales\".\"price_total\") AS \"sum\" \n    FROM \n      \"cube_sales\" \n    WHERE \n  (\n    {{ classroom }} AND\n    {{ game }}\n  ) \n    GROUP BY \n      \"cube_sales\".\"company\", \n      \"cube_sales\".\"classroom\", \n      \"cube_sales\".\"game\", \n      \"cube_sales\".\"date_invoice\"\n  ) \"sales\" \n  INNER JOIN (\n    SELECT \n      \"cube_inventory\".\"company\" AS \"company\", \n      \"cube_inventory\".\"game\" AS \"game\", \n      \"cube_inventory\".\"classroom\" AS \"classroom\", \n      \"cube_inventory\".\"date\",\n      (\n        sum(\"cube_inventory\".\"valuation\") * -1\n      ) AS \"COGS\" \n    FROM \n      \"cube_inventory\" \n    WHERE \n      \"cube_inventory\".\"destination\" = 'Customers' \n    GROUP BY \n      \"cube_inventory\".\"company\", \n      \"cube_inventory\".\"game\", \n      \"cube_inventory\".\"classroom\",\n      \"cube_inventory\".\"date\"\n  ) \"inventory\" ON (\n    \"sales\".\"company\" = \"inventory\".\"company\" \n    AND \"sales\".\"classroom\" = \"inventory\".\"classroom\" \n    AND \"sales\".\"game\" = \"inventory\".\"game\" \n    AND \"sales\".\"date\" = \"inventory\".\"date\"\n  ) \nGROUP BY \n  \"sales\".\"company\", \n  \"sales\".\"date\",\n  \"sales\".\"classroom\",\n  \"sales\".\"game\"\n) d INNER JOIN \"cube_calendar\" ON d.\"date\" = \"cube_calendar\".\"date\"  AND d.\"game\" = \"cube_calendar\".\"game\" AND d.\"classroom\" = \"cube_calendar\".\"classroom\"\nORDER BY \n  \"day\" ASC, \n  \"company\" ASC\n"
      },
      "database": "Aroolla 2-PTA"
    },
    "display": "line",
    "visualization_settings": {
      "graph.show_goal": true,
      "pivot_table.column_split": {
        "rows": [
          [
            "field",
            170,
            null
          ]
        ],
        "columns": [
          [
            "field",
            167,
            null
          ]
        ],
        "values": [
          [
            "aggregation",
            0
          ]
        ]
      },
      "graph.show_values": true,
      "table.pivot": true,
      "table.cell_column": "Gross margin",
      "graph.goal_label": "0",
      "graph.x_axis.axis_enabled": true,
      "graph.goal_value": 0,
      "graph.metrics": [
        "Gross margin"
      ],
      "table.pivot_column": "company",
      "column_settings": {
        "[\"name\",\"Gross margin\"]": {
          "number_style": "decimal",
          "decimals": 2
        },
        "[\"name\",\"date\"]": {
          "date_abbreviate": true,
          "date_style": "D/M/YYYY"
        }
      },
      "graph.dimensions": [
        "day",
        "company"
      ]
    },
    "parameters": [
      {
        "id": "982d8db0-319f-8e7a-77c7-d534904833a1",
        "type": "string/=",
        "target": [
          "dimension",
          [
            "template-tag",
            "classroom"
          ]
        ],
        "name": "Classroom",
        "slug": "classroom",
        "default": [
          "2-PTA"
        ]
      },
      {
        "id": "555ac0b6-9e04-be0e-045b-44e723483dc7",
        "type": "string/=",
        "target": [
          "dimension",
          [
            "template-tag",
            "game"
          ]
        ],
        "name": "Game",
        "slug": "game",
        "default": [
          "BI2 2-PTA"
        ]
      }
    ],
    "result_metadata": [
      {
        "display_name": "date",
        "field_ref": [
          "field",
          "date",
          {
            "base-type": "type/Date"
          }
        ],
        "name": "date",
        "base_type": "type/Date",
        "effective_type": "type/Date",
        "semantic_type": null,
        "fingerprint": {
          "global": {
            "distinct-count": 1,
            "nil%": 0.0
          },
          "type": {
            "type/DateTime": {
              "earliest": "2023-07-04T00:00:00Z",
              "latest": "2023-07-04T00:00:00Z"
            }
          }
        }
      },
      {
        "display_name": "company",
        "field_ref": [
          "field",
          "company",
          {
            "base-type": "type/Text"
          }
        ],
        "name": "company",
        "base_type": "type/Text",
        "effective_type": "type/Text",
        "semantic_type": "type/Company",
        "fingerprint": {
          "global": {
            "distinct-count": 1,
            "nil%": 0.0
          },
          "type": {
            "type/Text": {
              "percent-json": 0.0,
              "percent-url": 0.0,
              "percent-email": 0.0,
              "percent-state": 0.0,
              "average-length": 1.0
            }
          }
        }
      },
      {
        "display_name": "Gross margin",
        "field_ref": [
          "field",
          "Gross margin",
          {
            "base-type": "type/Float"
          }
        ],
        "name": "Gross margin",
        "base_type": "type/Float",
        "effective_type": "type/Float",
        "semantic_type": "type/GrossMargin",
        "fingerprint": {
          "global": {
            "distinct-count": 1,
            "nil%": 0.0
          },
          "type": {
            "type/Number": {
              "min": 22.516556291390728,
              "q1": 22.516556291390728,
              "q3": 22.516556291390728,
              "max": 22.516556291390728,
              "sd": null,
              "avg": 22.516556291390728
            }
          }
        }
      },
      {
        "display_name": "day",
        "field_ref": [
          "field",
          "day",
          {
            "base-type": "type/BigInteger"
          }
        ],
        "name": "day",
        "base_type": "type/BigInteger",
        "effective_type": "type/BigInteger",
        "semantic_type": null,
        "fingerprint": {
          "global": {
            "distinct-count": 1,
            "nil%": 0.0
          },
          "type": {
            "type/Number": {
              "min": 3.0,
              "q1": 3.0,
              "q3": 3.0,
              "max": 3.0,
              "sd": null,
              "avg": 3.0
            }
          }
        }
      },
      {
        "display_name": "round",
        "field_ref": [
          "field",
          "round",
          {
            "base-type": "type/Decimal"
          }
        ],
        "name": "round",
        "base_type": "type/Decimal",
        "effective_type": "type/Decimal",
        "semantic_type": null,
        "fingerprint": {
          "global": {
            "distinct-count": 1,
            "nil%": 0.0
          },
          "type": {
            "type/Number": {
              "min": 1.0,
              "q1": 1.0,
              "q3": 1.0,
              "max": 1.0,
              "sd": null,
              "avg": 1.0
            }
          }
        }
      }
    ]
  },
  {
    "name": "ALL Gross Margin by Product",
    "description": null,
    "dataset_query": {
      "type": "native",
      "native": {
        "template-tags": {
          "classroom": {
            "id": "982d8db0-319f-8e7a-77c7-d534904833a1",
            "name": "classroom",
            "display-name": "Classroom",
            "type": "dimension",
            "dimension": [
              "field",
              "cube_sales.classroom",
              null
            ],
            "widget-type": "string/=",
            "default": [
              "2-PTA"
            ],
            "required": true
          },
          "game": {
            "id": "555ac0b6-9e04-be0e-045b-44e723483dc7",
            "name": "game",
            "display-name": "Game",
            "type": "dimension",
            "dimension": [
              "field",
              "cube_sales.game",
              null
            ],
            "widget-type": "string/=",
            "default": [
              "BI2 2-PTA"
            ],
            "required": true
          }
        },
        "query": "SELECT \n  \"sales\".\"company\" AS \"company\", \n  \"sales\".\"product\" AS \"product\", \n  (\n    (\n      CAST(\n        (\n          sum(\"sales\".\"sum\") - sum(\"inventory\".\"COGS\")\n        ) AS float\n      ) / CASE WHEN sum(\"sales\".\"sum\") = 0 THEN NULL ELSE sum(\"sales\".\"sum\") END\n    ) * 100\n  ) AS \"Gross margin\" \nFROM \n  (\n    SELECT \n      \"cube_sales\".\"company\" AS \"company\", \n      \"cube_sales\".\"classroom\" AS \"classroom\", \n      \"cube_sales\".\"game\" AS \"game\", \n      \"cube_sales\".\"product\" AS \"product\", \n      sum(\"cube_sales\".\"price_total\") AS \"sum\" \n    FROM \n      \"cube_sales\" \n    WHERE \n  (\n    {{ classroom }} AND\n    {{ game }}\n  ) \n    GROUP BY \n      \"cube_sales\".\"company\", \n      \"cube_sales\".\"classroom\", \n      \"cube_sales\".\"game\", \n      \"cube_sales\".\"product\" \n  ) \"sales\" \n  INNER JOIN (\n    SELECT \n      \"cube_inventory\".\"company\" AS \"company\", \n      \"cube_inventory\".\"product\" AS \"product\", \n      \"cube_inventory\".\"game\" AS \"game\", \n      \"cube_inventory\".\"classroom\" AS \"classroom\", \n      (\n        sum(\"cube_inventory\".\"valuation\") * -1\n      ) AS \"COGS\" \n    FROM \n      \"cube_inventory\" \n    WHERE \n      \"cube_inventory\".\"destination\" = 'Customers' \n    GROUP BY \n      \"cube_inventory\".\"company\", \n      \"cube_inventory\".\"product\", \n      \"cube_inventory\".\"game\", \n      \"cube_inventory\".\"classroom\" \n  ) \"inventory\" ON (\n    \"sales\".\"company\" = \"inventory\".\"company\" \n    AND \"sales\".\"classroom\" = \"inventory\".\"classroom\" \n    AND \"sales\".\"game\" = \"inventory\".\"game\" \n    AND \"sales\".\"product\" = \"inventory\".\"product\"\n  ) \nGROUP BY \n  \"sales\".\"company\", \n  \"sales\".\"product\" \nORDER BY \n  \"sales\".\"company\" ASC, \n  \"sales\".\"product\" ASC\n"
      },
      "database": "Aroolla 2-PTA"
    },
    "display": "table",
    "visualization_settings": {
      "pivot_table.column_split": {
        "rows": [
          [
            "field",
            170,
            null
          ]
        ],
        "columns": [
          [
            "field",
            167,
            null
          ]
        ],
        "values": [
          [
            "aggregation",
            0
          ]
        ]
      },
      "table.pivot": true,
      "table.pivot_column": "company",
      "table.cell_column": "Gross margin",
      "table.column_formatting": [
        {
          "max_value": 100,
          "color": "#509EE3",
          "columns": [
            "Gross margin"
          ],
          "value": "",
          "type": "range",
          "colors": [
            "#ED6E6E",
            "#FFFFFF",
            "#84BB4C"
          ],
          "highlight_row": false,
          "min_value": 0,
          "min_type": null,
          "operator": "=",
          "max_type": null
        }
      ],
      "column_settings": {
        "[\"name\",\"Gross margin\"]": {}
      }
    },
    "parameters": [
      {
        "id": "982d8db0-319f-8e7a-77c7-d534904833a1",
        "type": "string/=",
        "target": [
          "dimension",
          [
            "template-tag",
            "classroom"
          ]
        ],
        "name": "Classroom",
        "slug": "classroom",
        "default": [
          "2-PTA"
        ]
      },
      {
        "id": "555ac0b6-9e04-be0e-045b-44e723483dc7",
        "type": "string/=",
        "target": [
          "dimension",
          [
            "template-tag",
            "game"
          ]
        ],
        "name": "Game",
        "slug": "game",
        "default": [
          "BI2 2-PTA"
        ]
      }
    ],
    "result_metadata": [
      {
        "display_name": "company",
        "field_ref": [
          "field",
          "company",
          {
            "base-type": "type/Text"
          }
        ],
        "name": "company",
        "base_type": "type/Text",
        "effective_type": "type/Text",
        "semantic_type": "type/Company",
        "fingerprint": {
          "global": {
            "distinct-count": 8,
            "nil%": 0.0
          },
          "type": {
            "type/Text": {
              "percent-json": 0.0,
              "percent-url": 0.0,
              "percent-email": 0.0,
              "percent-state": 0.0,
              "average-length": 1.0
            }
          }
        }
      },
      {
        "display_name": "product",
        "field_ref": [
          "field",
          "product",
          {
            "base-type": "type/Text"
          }
        ],
        "name": "product",
        "base_type": "type/Text",
        "effective_type": "type/Text",
        "semantic_type": null,
        "fingerprint": {
          "global": {
            "distinct-count": 12,
            "nil%": 0.0
          },
          "type": {
            "type/Text": {
              "percent-json": 0.0,
              "percent-url": 0.0,
              "percent-email": 0.0,
              "percent-state": 0.0,
              "average-length": 26.40625
            }
          }
        }
      },
      {
        "display_name": "Gross margin",
        "field_ref": [
          "field",
          "Gross margin",
          {
            "base-type": "type/Float"
          }
        ],
        "name": "Gross margin",
        "base_type": "type/Float",
        "effective_type": "type/Float",
        "semantic_type": "type/GrossMargin",
        "fingerprint": {
          "global": {
            "distinct-count": 64,
            "nil%": 0.0
          },
          "type": {
            "type/Number": {
              "min": -9.047127622979033,
              "q1": 16.738071462406065,
              "q3": 33.18844842221262,
              "max": 55.87970106580721,
              "sd": 13.44455799063287,
              "avg": 25.708793027550435
            }
          }
        }
      }
    ]
  },
  {
    "name": "ALL Inventory Product Evolution",
    "description": null,
    "dataset_query": {
      "type": "native",
      "native": {
        "query": "\n\nwith data as (\nSELECT \"cube_inventory\".\"date\" AS \"date\", \"cube_inventory\".\"product\" AS \"product\", sum(\"cube_inventory\".\"quantity\") AS \"sum\"\nFROM \"cube_inventory\"\nWHERE ( \n[[ {{company}}  AND ]]\n{{classroom}} AND {{game}}\n   AND (\"cube_inventory\".\"category\" = 'Whole Beans Coffee Bags'\n    OR \"cube_inventory\".\"category\" = 'Ground Coffee Packs' OR \"cube_inventory\".\"category\" = 'Coffee Pods'))\nGROUP BY \"cube_inventory\".\"date\", \"cube_inventory\".\"product\"\nORDER BY \"cube_inventory\".\"product\" ASC, \"cube_inventory\".\"date\" ASC\n)\nSELECT product, date, sum(sum) over (partition by product order by date asc rows between unbounded preceding and current row) FROM data\n",
        "template-tags": {
          "classroom": {
            "id": "0eb04cca-0dcd-2419-aa40-ecc938248bff",
            "name": "classroom",
            "display-name": "Classroom",
            "type": "dimension",
            "dimension": [
              "field",
              "cube_inventory.classroom",
              null
            ],
            "widget-type": "string/=",
            "default": [
              "2-PTA"
            ],
            "required": true
          },
          "game": {
            "id": "9ac26241-e2f9-d930-fb47-2745d41e7b95",
            "name": "game",
            "display-name": "Game",
            "type": "dimension",
            "dimension": [
              "field",
              "cube_inventory.game",
              null
            ],
            "widget-type": "string/=",
            "default": [
              "BI2 2-PTA"
            ],
            "required": true
          },
          "company": {
            "id": "54085d4d-704a-5834-ebdb-40ed1fdcfcbd",
            "name": "company",
            "display-name": "Company",
            "type": "dimension",
            "dimension": [
              "field",
              "cube_inventory.company",
              null
            ],
            "widget-type": "string/=",
            "default": null
          }
        }
      },
      "database": "Aroolla 2-PTA"
    },
    "display": "line",
    "visualization_settings": {
      "table.pivot": false,
      "graph.dimensions": [
        "date",
        "product"
      ],
      "scatter.bubble": "sum",
      "graph.metrics": [
        "sum"
      ]
    },
    "parameters": [
      {
        "id": "0eb04cca-0dcd-2419-aa40-ecc938248bff",
        "type": "string/=",
        "target": [
          "dimension",
          [
            "template-tag",
            "classroom"
          ]
        ],
        "name": "Classroom",
        "slug": "classroom",
        "default": [
          "2-PTA"
        ]
      },
      {
        "id": "9ac26241-e2f9-d930-fb47-2745d41e7b95",
        "type": "string/=",
        "target": [
          "dimension",
          [
            "template-tag",
            "game"
          ]
        ],
        "name": "Game",
        "slug": "game",
        "default": [
          "BI2 2-PTA"
        ]
      },
      {
        "id": "54085d4d-704a-5834-ebdb-40ed1fdcfcbd",
        "type": "string/=",
        "target": [
          "dimension",
          [
            "template-tag",
            "company"
          ]
        ],
        "name": "Company",
        "slug": "company"
      }
    ],
    "result_metadata": [
      {
        "display_name": "product",
        "field_ref": [
          "field",
          "product",
          {
            "base-type": "type/Text"
          }
        ],
        "name": "product",
        "base_type": "type/Text",
        "effective_type": "type/Text",
        "semantic_type": null,
        "fingerprint": {
          "global": {
            "distinct-count": 12,
            "nil%": 0.0
          },
          "type": {
            "type/Text": {
              "percent-json": 0.0,
              "percent-url": 0.0,
              "percent-email": 0.0,
              "percent-state": 0.0,
              "average-length": 25.770833333333332
            }
          }
        }
      },
      {
        "display_name": "date",
        "field_ref": [
          "field",
          "date",
          {
            "base-type": "type/Date"
          }
        ],
        "name": "date",
        "base_type": "type/Date",
        "effective_type": "type/Date",
        "semantic_type": null,
        "fingerprint": {
          "global": {
            "distinct-count": 38,
            "nil%": 0.0
          },
          "type": {
            "type/DateTime": {
              "earliest": "2023-07-03T00:00:00Z",
              "latest": "2023-08-09T00:00:00Z"
            }
          }
        }
      },
      {
        "display_name": "sum",
        "field_ref": [
          "field",
          "sum",
          {
            "base-type": "type/Decimal"
          }
        ],
        "name": "sum",
        "base_type": "type/Decimal",
        "effective_type": "type/Decimal",
        "semantic_type": null,
        "fingerprint": {
          "global": {
            "distinct-count": 205,
            "nil%": 0.0
          },
          "type": {
            "type/Number": {
              "min": 0.0,
              "q1": 1910.3194950406414,
              "q3": 8013.0,
              "max": 27840.0,
              "sd": 6172.387824716107,
              "avg": 6207.797619047619
            }
          }
        }
      }
    ]
  },
  {
    "name": "ALL Market Avg Price by Date",
    "description": null,
    "dataset_query": {
      "type": "query",
      "query": {
        "source-table": "cube_market_report",
        "filter": [
          "and",
          [
            "=",
            [
              "field",
              "cube_market_report.game",
              null
            ],
            "BI2 2-PTA"
          ],
          [
            "=",
            [
              "field",
              "cube_market_report.classroom",
              null
            ],
            "2-PTA"
          ]
        ],
        "aggregation": [
          [
            "avg",
            [
              "field",
              "cube_market_report.avg_price",
              null
            ]
          ]
        ],
        "breakout": [
          [
            "field",
            "cube_market_report.product",
            null
          ],
          [
            "field",
            "cube_market_report.date",
            {
              "temporal-unit": "day"
            }
          ]
        ]
      },
      "database": "Aroolla 2-PTA"
    },
    "display": "line",
    "visualization_settings": {
      "table.pivot": false,
      "graph.dimensions": [
        "date",
        "product"
      ],
      "graph.x_axis.scale": "ordinal",
      "graph.show_values": true,
      "graph.metrics": [
        "avg"
      ]
    },
    "parameters": [],
    "result_metadata": [
      {
        "description": null,
        "semantic_type": "type/Category",
        "table_id": 84,
        "coercion_strategy": null,
        "name": "product",
        "settings": null,
        "source": "breakout",
        "field_ref": [
          "field",
          "cube_market_report.product",
          null
        ],
        "effective_type": "type/Text",
        "nfc_path": null,
        "parent_id": null,
        "id": 916,
        "visibility_type": "normal",
        "display_name": "Product",
        "fingerprint": {
          "global": {
            "distinct-count": 12,
            "nil%": 0.0
          },
          "type": {
            "type/Text": {
              "percent-json": 0.0,
              "percent-url": 0.0,
              "percent-email": 0.0,
              "percent-state": 0.0,
              "average-length": 25.933333333333334
            }
          }
        },
        "base_type": "type/Text"
      },
      {
        "description": null,
        "semantic_type": null,
        "table_id": 84,
        "coercion_strategy": null,
        "unit": "day",
        "name": "date",
        "settings": null,
        "source": "breakout",
        "field_ref": [
          "field",
          "cube_market_report.date",
          {
            "temporal-unit": "day"
          }
        ],
        "effective_type": "type/Date",
        "nfc_path": null,
        "parent_id": null,
        "id": 912,
        "visibility_type": "normal",
        "display_name": "Date",
        "fingerprint": {
          "global": {
            "distinct-count": 7,
            "nil%": 0.0
          },
          "type": {
            "type/DateTime": {
              "earliest": "2023-01-12",
              "latest": "2023-02-20"
            }
          }
        },
        "base_type": "type/Date"
      },
      {
        "base_type": "type/Float",
        "semantic_type": null,
        "settings": null,
        "name": "avg",
        "display_name": "Moyenne de Avg Price",
        "source": "aggregation",
        "field_ref": [
          "aggregation",
          0
        ]
      }
    ]
  },
  {
    "name": "ALL Market Quantity by Date",
    "description": null,
    "dataset_query": {
      "database": "Aroolla 2-PTA",
      "query": {
        "source-table": "cube_market_report",
        "filter": [
          "and",
          [
            "=",
            [
              "field",
              "cube_market_report.game",
              null
            ],
            "BI2 2-PTA"
          ],
          [
            "=",
            [
              "field",
              "cube_market_report.classroom",
              null
            ],
            "2-PTA"
          ]
        ],
        "aggregation": [
          [
            "sum",
            [
              "field",
              "cube_market_report.quantity",
              null
            ]
          ]
        ],
        "breakout": [
          [
            "field",
            "cube_market_report.product",
            null
          ],
          [
            "field",
            "cube_market_report.date",
            {
              "temporal-unit": "day"
            }
          ]
        ]
      },
      "type": "query"
    },
    "display": "line",
    "visualization_settings": {
      "table.pivot": false,
      "graph.dimensions": [
        "date",
        "product"
      ],
      "graph.x_axis.scale": "ordinal",
      "graph.show_values": true,
      "graph.metrics": [
        "sum"
      ]
    },
    "parameters": [],
    "result_metadata": [
      {
        "description": null,
        "semantic_type": "type/Category",
        "table_id": 84,
        "coercion_strategy": null,
        "name": "product",
        "settings": null,
        "source": "breakout",
        "field_ref": [
          "field",
          "cube_market_report.product",
          null
        ],
        "effective_type": "type/Text",
        "nfc_path": null,
        "parent_id": null,
        "id": 916,
        "visibility_type": "normal",
        "display_name": "Product",
        "fingerprint": {
          "global": {
            "distinct-count": 12,
            "nil%": 0.0
          },
          "type": {
            "type/Text": {
              "percent-json": 0.0,
              "percent-url": 0.0,
              "percent-email": 0.0,
              "percent-state": 0.0,
              "average-length": 25.933333333333334
            }
          }
        },
        "base_type": "type/Text"
      },
      {
        "description": null,
        "semantic_type": null,
        "table_id": 84,
        "coercion_strategy": null,
        "unit": "day",
        "name": "date",
        "settings": null,
        "source": "breakout",
        "field_ref": [
          "field",
          "cube_market_report.date",
          {
            "temporal-unit": "day"
          }
        ],
        "effective_type": "type/Date",
        "nfc_path": null,
        "parent_id": null,
        "id": 912,
        "visibility_type": "normal",
        "display_name": "Date",
        "fingerprint": {
          "global": {
            "distinct-count": 7,
            "nil%": 0.0
          },
          "type": {
            "type/DateTime": {
              "earliest": "2023-01-12",
              "latest": "2023-02-20"
            }
          }
        },
        "base_type": "type/Date"
      },
      {
        "base_type": "type/Float",
        "semantic_type": null,
        "settings": null,
        "name": "sum",
        "display_name": "Somme de Quantity",
        "source": "aggregation",
        "field_ref": [
          "aggregation",
          0
        ]
      }
    ]
  },
  {
    "name": "ALL Marketing by Day",
    "description": null,
    "dataset_query": {
      "type": "query",
      "query": {
        "source-table": "cube_marketing_report",
        "filter": [
          "and",
          [
            "=",
            [
              "field",
              "cube_marketing_report.game",
              null
            ],
            "BI2 2-PTA"
          ],
          [
            "=",
            [
              "field",
              "cube_marketing_report.classroom",
              null
            ],
            "2-PTA"
          ]
        ],
        "aggregation": [
          [
            "sum",
            [
              "field",
              "cube_marketing_report.quantity",
              null
            ]
          ]
        ],
        "breakout": [
          [
            "field",
            "cube_marketing_report.start_date",
            {
              "temporal-unit": "day"
            }
          ],
          [
            "field",
            "cube_marketing_report.company",
            null
          ]
        ],
        "order-by": [
          [
            "asc",
            [
              "field",
              "cube_marketing_report.company",
              null
            ]
          ]
        ]
      },
      "database": "Aroolla 2-PTA"
    },
    "display": "bar",
    "visualization_settings": {
      "table.pivot": false,
      "stackable.stack_type": "stacked",
      "graph.dimensions": [
        "start_date",
        "company"
      ],
      "graph.metrics": [
        "sum"
      ]
    },
    "parameters": [],
    "result_metadata": [
      {
        "description": null,
        "semantic_type": "type/CreationDate",
        "coercion_strategy": null,
        "unit": "day",
        "name": "start_date",
        "settings": null,
        "field_ref": [
          "field",
          "cube_marketing_report.start_date",
          {
            "temporal-unit": "day"
          }
        ],
        "effective_type": "type/Date",
        "id": 744,
        "visibility_type": "normal",
        "display_name": "Start Date",
        "fingerprint": {
          "global": {
            "distinct-count": 27,
            "nil%": 0.0
          },
          "type": {
            "type/DateTime": {
              "earliest": "2023-01-09",
              "latest": "2023-02-20"
            }
          }
        },
        "base_type": "type/Date"
      },
      {
        "description": null,
        "semantic_type": "type/Category",
        "coercion_strategy": null,
        "name": "company",
        "settings": null,
        "field_ref": [
          "field",
          "cube_marketing_report.company",
          null
        ],
        "effective_type": "type/Text",
        "id": 743,
        "visibility_type": "normal",
        "display_name": "Company",
        "fingerprint": {
          "global": {
            "distinct-count": 8,
            "nil%": 0.0
          },
          "type": {
            "type/Text": {
              "percent-json": 0.0,
              "percent-url": 0.0,
              "percent-email": 0.0,
              "percent-state": 0.0,
              "average-length": 1.0
            }
          }
        },
        "base_type": "type/Text"
      },
      {
        "display_name": "Somme de Quantity",
        "semantic_type": null,
        "settings": null,
        "field_ref": [
          "aggregation",
          0
        ],
        "name": "sum",
        "base_type": "type/Float",
        "effective_type": "type/Float",
        "fingerprint": {
          "global": {
            "distinct-count": 35,
            "nil%": 0.0
          },
          "type": {
            "type/Number": {
              "min": 3.0,
              "q1": 29.097167540709727,
              "q3": 260.72949016875157,
              "max": 450.0,
              "sd": 123.65839960536714,
              "avg": 146.81428571428572
            }
          }
        }
      }
    ]
  },
  {
    "name": "ALL Production Quantity Produced by Day",
    "description": null,
    "dataset_query": {
      "database": "Aroolla 2-PTA",
      "query": {
        "source-table": "cube_production",
        "filter": [
          "and",
          [
            "=",
            [
              "field",
              "cube_production.category",
              null
            ],
            "Ground Coffee Packs",
            "Coffee Pods",
            "Whole Beans Coffee Bags"
          ],
          [
            "=",
            [
              "field",
              "cube_production.game",
              null
            ],
            "BI2 2-PTA"
          ],
          [
            "=",
            [
              "field",
              "cube_production.classroom",
              null
            ],
            "2-PTA"
          ]
        ],
        "aggregation": [
          [
            "sum",
            [
              "field",
              "cube_production.quantity",
              null
            ]
          ]
        ],
        "breakout": [
          [
            "field",
            "cube_production.company",
            null
          ],
          [
            "field",
            "cube_production.date_finished",
            {
              "temporal-unit": "day"
            }
          ]
        ],
        "order-by": [
          [
            "asc",
            [
              "field",
              "cube_production.date_finished",
              {
                "temporal-unit": "day"
              }
            ]
          ]
        ]
      },
      "type": "query"
    },
    "display": "table",
    "visualization_settings": {
      "pivot_table.column_split": {
        "rows": [
          [
            "field",
            "cube_production.date_finished",
            {
              "temporal-unit": "day"
            }
          ]
        ],
        "columns": [
          [
            "field",
            "cube_production.company",
            null
          ]
        ],
        "values": [
          [
            "aggregation",
            0
          ]
        ]
      },
      "table.cell_column": "sum",
      "stackable.stack_display": "bar",
      "graph.metrics": [
        "sum"
      ],
      "table.column_formatting": [
        {
          "max_value": 100,
          "color": "#509EE3",
          "columns": [
            "sum"
          ],
          "value": "",
          "type": "range",
          "colors": [
            "#ED6E6E",
            "#F9CF48",
            "#84BB4C"
          ],
          "highlight_row": false,
          "min_value": 0,
          "min_type": null,
          "operator": "=",
          "max_type": null
        }
      ],
      "table.pivot_column": "company",
      "column_settings": {
        "[\"ref\",[\"field\",202,null]]": {
          "pivot_table.column_sort_order": "ascending",
          "date_abbreviate": true
        }
      },
      "graph.dimensions": [
        "date_finished",
        "company"
      ],
      "stackable.stack_type": "stacked"
    },
    "parameters": [],
    "result_metadata": [
      {
        "description": null,
        "semantic_type": "type/Category",
        "coercion_strategy": null,
        "name": "company",
        "settings": null,
        "field_ref": [
          "field",
          "cube_production.company",
          null
        ],
        "effective_type": "type/Text",
        "id": 968,
        "visibility_type": "normal",
        "display_name": "Company",
        "fingerprint": {
          "global": {
            "distinct-count": 8,
            "nil%": 0.0
          },
          "type": {
            "type/Text": {
              "percent-json": 0.0,
              "percent-url": 0.0,
              "percent-email": 0.0,
              "percent-state": 0.0,
              "average-length": 1.0
            }
          }
        },
        "base_type": "type/Text"
      },
      {
        "description": null,
        "semantic_type": null,
        "coercion_strategy": null,
        "unit": "day",
        "name": "date_finished",
        "settings": null,
        "field_ref": [
          "field",
          "cube_production.date_finished",
          {
            "temporal-unit": "day"
          }
        ],
        "effective_type": "type/Date",
        "id": 956,
        "visibility_type": "normal",
        "display_name": "Date Finished",
        "fingerprint": {
          "global": {
            "distinct-count": 32,
            "nil%": 0.0
          },
          "type": {
            "type/DateTime": {
              "earliest": "2023-01-12",
              "latest": "2023-02-20"
            }
          }
        },
        "base_type": "type/Date"
      },
      {
        "display_name": "Somme de Quantity",
        "semantic_type": null,
        "settings": null,
        "field_ref": [
          "aggregation",
          0
        ],
        "name": "sum",
        "base_type": "type/Decimal",
        "effective_type": "type/Decimal",
        "fingerprint": {
          "global": {
            "distinct-count": 4,
            "nil%": 0.0
          },
          "type": {
            "type/Number": {
              "min": 1000.0,
              "q1": 2839.413318755148,
              "q3": 3000.0,
              "max": 3000.0,
              "sd": 168.93919691483998,
              "avg": 2975.6554307116103
            }
          }
        }
      }
    ]
  },
  {
    "name": "ALL Purchases Avg Unit Price by Product",
    "description": null,
    "dataset_query": {
      "type": "query",
      "query": {
        "source-table": "cube_purchases",
        "filter": [
          "and",
          [
            "=",
            [
              "field",
              "cube_purchases.game",
              null
            ],
            "BI2 2-PTA"
          ],
          [
            "=",
            [
              "field",
              "cube_purchases.invoice_status",
              null
            ],
            "invoiced"
          ],
          [
            "=",
            [
              "field",
              "cube_purchases.category",
              null
            ],
            "Green Beans",
            "Packaging"
          ],
          [
            "=",
            [
              "field",
              "cube_purchases.classroom",
              null
            ],
            "2-PTA"
          ]
        ],
        "aggregation": [
          [
            "avg",
            [
              "field",
              "cube_purchases.price_unit",
              null
            ]
          ]
        ],
        "breakout": [
          [
            "field",
            "cube_purchases.product",
            null
          ],
          [
            "field",
            "cube_purchases.company",
            null
          ]
        ]
      },
      "database": "Aroolla 2-PTA"
    },
    "display": "bar",
    "visualization_settings": {
      "pivot_table.column_split": {
        "rows": [
          [
            "field",
            "cube_purchases.product",
            null
          ]
        ],
        "columns": [
          [
            "field",
            "cube_purchases.company",
            null
          ]
        ],
        "values": [
          [
            "aggregation",
            0
          ],
          [
            "aggregation",
            1
          ]
        ]
      },
      "graph.y_axis.scale": "pow",
      "graph.y_axis.auto_split": true,
      "graph.metrics": [
        "avg"
      ],
      "graph.y_axis.axis_enabled": true,
      "column_settings": {
        "[\"ref\",[\"field\",137,null]]": {
          "pivot_table.column_show_totals": true
        }
      },
      "series_settings": {
        "A": {
          "color": "#88BF4D"
        }
      },
      "graph.y_axis.auto_range": true,
      "graph.dimensions": [
        "product",
        "company"
      ]
    },
    "parameters": [],
    "result_metadata": [
      {
        "description": null,
        "semantic_type": "type/Category",
        "coercion_strategy": null,
        "name": "product",
        "settings": null,
        "field_ref": [
          "field",
          "cube_purchases.product",
          null
        ],
        "effective_type": "type/Text",
        "id": 829,
        "visibility_type": "normal",
        "display_name": "Product",
        "fingerprint": {
          "global": {
            "distinct-count": 8,
            "nil%": 0.0
          },
          "type": {
            "type/Text": {
              "percent-json": 0.0,
              "percent-url": 0.0,
              "percent-email": 0.0,
              "percent-state": 0.0,
              "average-length": 16.991163475699558
            }
          }
        },
        "base_type": "type/Text"
      },
      {
        "description": null,
        "semantic_type": "type/Category",
        "coercion_strategy": null,
        "name": "company",
        "settings": null,
        "field_ref": [
          "field",
          "cube_purchases.company",
          null
        ],
        "effective_type": "type/Text",
        "id": 837,
        "visibility_type": "normal",
        "display_name": "Company",
        "fingerprint": {
          "global": {
            "distinct-count": 8,
            "nil%": 0.0
          },
          "type": {
            "type/Text": {
              "percent-json": 0.0,
              "percent-url": 0.0,
              "percent-email": 0.0,
              "percent-state": 0.0,
              "average-length": 1.0
            }
          }
        },
        "base_type": "type/Text"
      },
      {
        "display_name": "Moyenne de Price Unit",
        "semantic_type": null,
        "settings": null,
        "field_ref": [
          "aggregation",
          0
        ],
        "name": "avg",
        "base_type": "type/Decimal",
        "effective_type": "type/Decimal",
        "fingerprint": {
          "global": {
            "distinct-count": 26,
            "nil%": 0.0
          },
          "type": {
            "type/Number": {
              "min": 0.02,
              "q1": 0.19109609582188936,
              "q3": 7.116666666666666,
              "max": 8.916666666666666,
              "sd": 3.522846447251623,
              "avg": 3.5542604617604616
            }
          }
        }
      }
    ]
  },
  {
    "name": "ALL Purchases by Category",
    "description": null,
    "dataset_query": {
      "type": "query",
      "query": {
        "source-table": "cube_purchases",
        "filter": [
          "and",
          [
            "=",
            [
              "field",
              "cube_purchases.game",
              null
            ],
            "BI2 2-PTA"
          ],
          [
            "=",
            [
              "field",
              "cube_purchases.invoice_status",
              null
            ],
            "invoiced"
          ],
          [
            "=",
            [
              "field",
              "cube_purchases.classroom",
              null
            ],
            "2-PTA"
          ]
        ],
        "aggregation": [
          [
            "sum",
            [
              "field",
              "cube_purchases.price_total",
              null
            ]
          ]
        ],
        "breakout": [
          [
            "field",
            "cube_purchases.company",
            null
          ],
          [
            "field",
            "cube_purchases.category",
            null
          ]
        ]
      },
      "database": "Aroolla 2-PTA"
    },
    "display": "bar",
    "visualization_settings": {
      "graph.dimensions": [
        "company",
        "category"
      ],
      "stackable.stack_type": "stacked",
      "graph.metrics": [
        "sum"
      ]
    },
    "parameters": [],
    "result_metadata": [
      {
        "description": null,
        "semantic_type": "type/Category",
        "coercion_strategy": null,
        "name": "company",
        "settings": null,
        "field_ref": [
          "field",
          "cube_purchases.company",
          null
        ],
        "effective_type": "type/Text",
        "id": 837,
        "visibility_type": "normal",
        "display_name": "Company",
        "fingerprint": {
          "global": {
            "distinct-count": 8,
            "nil%": 0
          },
          "type": {
            "type/Text": {
              "percent-json": 0,
              "percent-url": 0,
              "percent-email": 0,
              "percent-state": 0,
              "average-length": 1
            }
          }
        },
        "base_type": "type/Text"
      },
      {
        "description": null,
        "semantic_type": "type/Category",
        "coercion_strategy": null,
        "name": "category",
        "settings": null,
        "field_ref": [
          "field",
          "cube_purchases.category",
          null
        ],
        "effective_type": "type/Text",
        "id": 830,
        "visibility_type": "normal",
        "display_name": "Category",
        "fingerprint": {
          "global": {
            "distinct-count": 3,
            "nil%": 0
          },
          "type": {
            "type/Text": {
              "percent-json": 0,
              "percent-url": 0,
              "percent-email": 0,
              "percent-state": 0,
              "average-length": 9.95139911634757
            }
          }
        },
        "base_type": "type/Text"
      },
      {
        "display_name": "Somme de Price Total",
        "semantic_type": null,
        "settings": null,
        "field_ref": [
          "aggregation",
          0
        ],
        "name": "sum",
        "base_type": "type/Decimal",
        "effective_type": "type/Decimal",
        "fingerprint": {
          "global": {
            "distinct-count": 24,
            "nil%": 0
          },
          "type": {
            "type/Number": {
              "min": 24200,
              "q1": 224550,
              "q3": 3978750,
              "max": 6889750,
              "sd": 2151892.4245658233,
              "avg": 2019952.3125
            }
          }
        }
      }
    ]
  },
  {
    "name": "ALL Purchases Orders Count by Supplier",
    "description": null,
    "dataset_query": {
      "database": "Aroolla 2-PTA",
      "query": {
        "source-table": "cube_purchases",
        "filter": [
          "and",
          [
            "=",
            [
              "field",
              "cube_purchases.game",
              null
            ],
            "BI2 2-PTA"
          ],
          [
            "=",
            [
              "field",
              "cube_purchases.invoice_status",
              null
            ],
            "invoiced"
          ],
          [
            "=",
            [
              "field",
              "cube_purchases.category",
              null
            ],
            "Green Beans",
            "Packaging"
          ],
          [
            "=",
            [
              "field",
              "cube_purchases.classroom",
              null
            ],
            "2-PTA"
          ]
        ],
        "aggregation": [
          [
            "count"
          ]
        ],
        "breakout": [
          [
            "field",
            "cube_purchases.company",
            null
          ],
          [
            "field",
            "cube_purchases.supplier",
            null
          ]
        ]
      },
      "type": "query"
    },
    "display": "bar",
    "visualization_settings": {
      "graph.dimensions": [
        "company",
        "supplier"
      ],
      "graph.metrics": [
        "count"
      ]
    },
    "parameters": [],
    "result_metadata": [
      {
        "description": null,
        "semantic_type": "type/Category",
        "coercion_strategy": null,
        "name": "company",
        "settings": null,
        "field_ref": [
          "field",
          "cube_purchases.company",
          null
        ],
        "effective_type": "type/Text",
        "id": 837,
        "visibility_type": "normal",
        "display_name": "Company",
        "fingerprint": {
          "global": {
            "distinct-count": 8,
            "nil%": 0.0
          },
          "type": {
            "type/Text": {
              "percent-json": 0.0,
              "percent-url": 0.0,
              "percent-email": 0.0,
              "percent-state": 0.0,
              "average-length": 1.0
            }
          }
        },
        "base_type": "type/Text"
      },
      {
        "description": null,
        "semantic_type": "type/Category",
        "coercion_strategy": null,
        "name": "supplier",
        "settings": null,
        "field_ref": [
          "field",
          "cube_purchases.supplier",
          null
        ],
        "effective_type": "type/Text",
        "id": 840,
        "visibility_type": "normal",
        "display_name": "Supplier",
        "fingerprint": {
          "global": {
            "distinct-count": 4,
            "nil%": 0.0
          },
          "type": {
            "type/Text": {
              "percent-json": 0.0,
              "percent-url": 0.0,
              "percent-email": 0.0,
              "percent-state": 0.0,
              "average-length": 18.721649484536083
            }
          }
        },
        "base_type": "type/Text"
      },
      {
        "display_name": "Nombre de lignes",
        "semantic_type": "type/Quantity",
        "field_ref": [
          "aggregation",
          0
        ],
        "name": "count",
        "base_type": "type/BigInteger",
        "effective_type": "type/BigInteger",
        "fingerprint": {
          "global": {
            "distinct-count": 17,
            "nil%": 0.0
          },
          "type": {
            "type/Number": {
              "min": 4.0,
              "q1": 8.418861169915811,
              "q3": 22.75,
              "max": 44.0,
              "sd": 11.92496030863722,
              "avg": 17.263157894736842
            }
          }
        }
      }
    ]
  },
  {
    "name": "ALL Sales Avg Product Unit Price by Date",
    "description": null,
    "dataset_query": {
      "type": "query",
      "query": {
        "source-table": "cube_sales",
        "aggregation": [
          [
            "avg",
            [
              "field",
              "cube_sales.price_unit",
              null
            ]
          ]
        ],
        "breakout": [
          [
            "field",
            "cube_sales.product",
            null
          ],
          [
            "field",
            "cube_sales.category",
            null
          ],
          [
            "field",
            "cube_sales.date_invoice",
            {
              "temporal-unit": "day"
            }
          ]
        ],
        "filter": [
          "and",
          [
            "=",
            [
              "field",
              "cube_sales.game",
              null
            ],
            "BI2 2-PTA"
          ],
          [
            "=",
            [
              "field",
              "cube_sales.classroom",
              null
            ],
            "2-PTA"
          ]
        ],
        "order-by": [
          [
            "asc",
            [
              "field",
              "cube_sales.category",
              null
            ]
          ]
        ]
      },
      "database": "Aroolla 2-PTA"
    },
    "display": "line",
    "visualization_settings": {
      "table.pivot": false,
      "graph.dimensions": [
        "date_invoice",
        "product"
      ],
      "graph.metrics": [
        "avg"
      ]
    },
    "parameters": [],
    "result_metadata": [
      {
        "description": null,
        "semantic_type": "type/Category",
        "table_id": 81,
        "coercion_strategy": null,
        "name": "product",
        "settings": null,
        "source": "breakout",
        "field_ref": [
          "field",
          "cube_sales.product",
          null
        ],
        "effective_type": "type/Text",
        "nfc_path": null,
        "parent_id": null,
        "id": 796,
        "visibility_type": "normal",
        "display_name": "Product",
        "fingerprint": {
          "global": {
            "distinct-count": 12,
            "nil%": 0.0
          },
          "type": {
            "type/Text": {
              "percent-json": 0.0,
              "percent-url": 0.0,
              "percent-email": 0.0,
              "percent-state": 0.0,
              "average-length": 25.818832391713748
            }
          }
        },
        "base_type": "type/Text"
      },
      {
        "description": null,
        "semantic_type": "type/Category",
        "table_id": 81,
        "coercion_strategy": null,
        "name": "category",
        "settings": null,
        "source": "breakout",
        "field_ref": [
          "field",
          "cube_sales.category",
          null
        ],
        "effective_type": "type/Text",
        "nfc_path": null,
        "parent_id": null,
        "id": 795,
        "visibility_type": "normal",
        "display_name": "Category",
        "fingerprint": {
          "global": {
            "distinct-count": 3,
            "nil%": 0.0
          },
          "type": {
            "type/Text": {
              "percent-json": 0.0,
              "percent-url": 0.0,
              "percent-email": 0.0,
              "percent-state": 0.0,
              "average-length": 17.24783427495292
            }
          }
        },
        "base_type": "type/Text"
      },
      {
        "description": null,
        "semantic_type": null,
        "table_id": 81,
        "coercion_strategy": null,
        "unit": "day",
        "name": "date_invoice",
        "settings": null,
        "source": "breakout",
        "field_ref": [
          "field",
          "cube_sales.date_invoice",
          {
            "temporal-unit": "day"
          }
        ],
        "effective_type": "type/Date",
        "nfc_path": null,
        "parent_id": null,
        "id": 790,
        "visibility_type": "normal",
        "display_name": "Date Invoice",
        "fingerprint": {
          "global": {
            "distinct-count": 34,
            "nil%": 0.0
          },
          "type": {
            "type/DateTime": {
              "earliest": "2023-01-08",
              "latest": "2023-02-20"
            }
          }
        },
        "base_type": "type/Date"
      },
      {
        "base_type": "type/Decimal",
        "semantic_type": null,
        "settings": null,
        "name": "avg",
        "display_name": "Moyenne de Price Unit",
        "source": "aggregation",
        "field_ref": [
          "aggregation",
          0
        ]
      }
    ]
  },
  {
    "name": "ALL Sales Distinct Customers Count by Product",
    "description": null,
    "dataset_query": {
      "database": "Aroolla 2-PTA",
      "query": {
        "source-table": "cube_sales",
        "expressions": {
          "Segment": [
            "case",
            [
              [
                [
                  "starts-with",
                  [
                    "field",
                    "cube_sales.customer",
                    null
                  ],
                  "Coffee"
                ],
                "HORECA"
              ],
              [
                [
                  "starts-with",
                  [
                    "field",
                    "cube_sales.customer",
                    null
                  ],
                  "Corp"
                ],
                "Distributeur"
              ],
              [
                [
                  "starts-with",
                  [
                    "field",
                    "cube_sales.customer",
                    null
                  ],
                  "Food"
                ],
                "Détaillant"
              ]
            ]
          ]
        },
        "aggregation": [
          [
            "distinct",
            [
              "field",
              "cube_sales.customer",
              null
            ]
          ]
        ],
        "breakout": [
          [
            "expression",
            "Segment"
          ],
          [
            "field",
            "cube_sales.product",
            null
          ],
          [
            "field",
            "cube_sales.category",
            null
          ]
        ],
        "filter": [
          "and",
          [
            "=",
            [
              "field",
              "cube_sales.game",
              null
            ],
            "BI2 2-PTA"
          ],
          [
            "=",
            [
              "field",
              "cube_sales.classroom",
              null
            ],
            "2-PTA"
          ]
        ],
        "order-by": [
          [
            "asc",
            [
              "field",
              "cube_sales.category",
              null
            ]
          ]
        ]
      },
      "type": "query"
    },
    "display": "bar",
    "visualization_settings": {
      "table.pivot": false,
      "graph.dimensions": [
        "product",
        "Segment"
      ],
      "graph.metrics": [
        "count"
      ]
    },
    "parameters": [],
    "result_metadata": [
      {
        "base_type": "type/Text",
        "name": "Segment",
        "display_name": "Segment",
        "expression_name": "Segment",
        "field_ref": [
          "expression",
          "Segment"
        ],
        "source": "breakout"
      },
      {
        "description": null,
        "semantic_type": "type/Category",
        "table_id": 81,
        "coercion_strategy": null,
        "name": "product",
        "settings": null,
        "source": "breakout",
        "field_ref": [
          "field",
          "cube_sales.product",
          null
        ],
        "effective_type": "type/Text",
        "nfc_path": null,
        "parent_id": null,
        "id": 796,
        "visibility_type": "normal",
        "display_name": "Product",
        "fingerprint": {
          "global": {
            "distinct-count": 12,
            "nil%": 0.0
          },
          "type": {
            "type/Text": {
              "percent-json": 0.0,
              "percent-url": 0.0,
              "percent-email": 0.0,
              "percent-state": 0.0,
              "average-length": 25.818832391713748
            }
          }
        },
        "base_type": "type/Text"
      },
      {
        "description": null,
        "semantic_type": "type/Category",
        "table_id": 81,
        "coercion_strategy": null,
        "name": "category",
        "settings": null,
        "source": "breakout",
        "field_ref": [
          "field",
          "cube_sales.category",
          null
        ],
        "effective_type": "type/Text",
        "nfc_path": null,
        "parent_id": null,
        "id": 795,
        "visibility_type": "normal",
        "display_name": "Category",
        "fingerprint": {
          "global": {
            "distinct-count": 3,
            "nil%": 0.0
          },
          "type": {
            "type/Text": {
              "percent-json": 0.0,
              "percent-url": 0.0,
              "percent-email": 0.0,
              "percent-state": 0.0,
              "average-length": 17.24783427495292
            }
          }
        },
        "base_type": "type/Text"
      },
      {
        "base_type": "type/BigInteger",
        "semantic_type": "type/Quantity",
        "settings": null,
        "name": "count",
        "display_name": "Valeurs distinctes de Customer",
        "source": "aggregation",
        "field_ref": [
          "aggregation",
          0
        ]
      }
    ]
  },
  {
    "name": "ALL Sales Quantity / Unit Price by Product",
    "description": null,
    "dataset_query": {
      "type": "query",
      "query": {
        "source-table": "cube_sales",
        "aggregation": [
          [
            "avg",
            [
              "field",
              "cube_sales.price_unit",
              null
            ]
          ],
          [
            "sum",
            [
              "field",
              "cube_sales.quantity",
              null
            ]
          ]
        ],
        "breakout": [
          [
            "field",
            "cube_sales.product",
            null
          ],
          [
            "field",
            "cube_sales.category",
            null
          ],
          [
            "field",
            "cube_sales.price_unit",
            {
              "binning": {
                "strategy": "default"
              }
            }
          ]
        ],
        "filter": [
          "and",
          [
            "=",
            [
              "field",
              "cube_sales.game",
              null
            ],
            "BI2 2-PTA"
          ],
          [
            "=",
            [
              "field",
              "cube_sales.classroom",
              null
            ],
            "2-PTA"
          ]
        ],
        "order-by": [
          [
            "asc",
            [
              "field",
              "cube_sales.category",
              null
            ]
          ]
        ]
      },
      "database": "Aroolla 2-PTA"
    },
    "display": "scatter",
    "visualization_settings": {
      "table.pivot": false,
      "graph.dimensions": [
        "product"
      ],
      "scatter.bubble": "sum",
      "graph.show_goal": false,
      "graph.y_axis.scale": "linear",
      "graph.y_axis.auto_range": false,
      "graph.y_axis.min": 30,
      "graph.metrics": [
        "avg"
      ]
    },
    "parameters": [],
    "result_metadata": [
      {
        "description": null,
        "semantic_type": "type/Category",
        "coercion_strategy": null,
        "name": "product",
        "settings": null,
        "field_ref": [
          "field",
          "cube_sales.product",
          null
        ],
        "effective_type": "type/Text",
        "id": 796,
        "visibility_type": "normal",
        "display_name": "Product",
        "fingerprint": {
          "global": {
            "distinct-count": 12,
            "nil%": 0.0
          },
          "type": {
            "type/Text": {
              "percent-json": 0.0,
              "percent-url": 0.0,
              "percent-email": 0.0,
              "percent-state": 0.0,
              "average-length": 25.818832391713748
            }
          }
        },
        "base_type": "type/Text"
      },
      {
        "description": null,
        "semantic_type": "type/Category",
        "coercion_strategy": null,
        "name": "category",
        "settings": null,
        "field_ref": [
          "field",
          "cube_sales.category",
          null
        ],
        "effective_type": "type/Text",
        "id": 795,
        "visibility_type": "normal",
        "display_name": "Category",
        "fingerprint": {
          "global": {
            "distinct-count": 3,
            "nil%": 0.0
          },
          "type": {
            "type/Text": {
              "percent-json": 0.0,
              "percent-url": 0.0,
              "percent-email": 0.0,
              "percent-state": 0.0,
              "average-length": 17.24783427495292
            }
          }
        },
        "base_type": "type/Text"
      },
      {
        "description": null,
        "semantic_type": null,
        "coercion_strategy": null,
        "name": "price_unit",
        "settings": null,
        "field_ref": [
          "field",
          "cube_sales.price_unit",
          {
            "binning": {
              "strategy": "num-bins",
              "min-value": 37.5,
              "max-value": 97.5,
              "num-bins": 8,
              "bin-width": 7.5
            }
          }
        ],
        "effective_type": "type/Decimal",
        "id": 785,
        "visibility_type": "normal",
        "display_name": "Price Unit",
        "fingerprint": {
          "global": {
            "distinct-count": 121,
            "nil%": 0.0
          },
          "type": {
            "type/Number": {
              "min": 37.9,
              "q1": 44.33118011064498,
              "q3": 70.1578584010492,
              "max": 97.5,
              "sd": 13.07533867297855,
              "avg": 55.22549905838042
            }
          }
        },
        "base_type": "type/Decimal"
      },
      {
        "display_name": "Moyenne de Price Unit",
        "semantic_type": null,
        "settings": null,
        "field_ref": [
          "aggregation",
          0
        ],
        "name": "avg",
        "base_type": "type/Decimal",
        "effective_type": "type/Decimal",
        "fingerprint": {
          "global": {
            "distinct-count": 33,
            "nil%": 0.0
          },
          "type": {
            "type/Number": {
              "min": 41.99488372093023,
              "q1": 48.86863636363636,
              "q3": 85.32924107142857,
              "max": 97.5,
              "sd": 18.00911623853477,
              "avg": 67.26041167762317
            }
          }
        }
      },
      {
        "display_name": "Somme de Quantity",
        "semantic_type": null,
        "settings": null,
        "field_ref": [
          "aggregation",
          1
        ],
        "name": "sum",
        "base_type": "type/Decimal",
        "effective_type": "type/Decimal",
        "fingerprint": {
          "global": {
            "distinct-count": 32,
            "nil%": 0.0
          },
          "type": {
            "type/Number": {
              "min": 188.0,
              "q1": 6639.0,
              "q3": 29648.0,
              "max": 111242.0,
              "sd": 25249.04706182598,
              "avg": 21726.696969696968
            }
          }
        }
      }
    ]
  },
  {
    "name": "ALL Sales Revenues Per Customer Segments",
    "description": null,
    "dataset_query": {
      "database": "Aroolla 2-PTA",
      "query": {
        "source-table": "cube_sales",
        "expressions": {
          "Segment": [
            "case",
            [
              [
                [
                  "starts-with",
                  [
                    "field",
                    "cube_sales.customer",
                    null
                  ],
                  "Coffee"
                ],
                "HORECA"
              ],
              [
                [
                  "starts-with",
                  [
                    "field",
                    "cube_sales.customer",
                    null
                  ],
                  "Corp"
                ],
                "Distributeur"
              ],
              [
                [
                  "starts-with",
                  [
                    "field",
                    "cube_sales.customer",
                    null
                  ],
                  "Food"
                ],
                "Détaillant"
              ]
            ]
          ]
        },
        "aggregation": [
          [
            "sum",
            [
              "field",
              "cube_sales.price_total",
              null
            ]
          ]
        ],
        "breakout": [
          [
            "expression",
            "Segment"
          ],
          [
            "field",
            "cube_sales.category",
            null
          ],
          [
            "field",
            "cube_sales.company",
            null
          ]
        ],
        "filter": [
          "and",
          [
            "=",
            [
              "field",
              "cube_sales.game",
              null
            ],
            "BI2 2-PTA"
          ],
          [
            "=",
            [
              "field",
              "cube_sales.classroom",
              null
            ],
            "2-PTA"
          ]
        ]
      },
      "type": "query"
    },
    "display": "pivot",
    "visualization_settings": {
      "table.pivot_column": "Segment",
      "table.cell_column": "sum",
      "pivot_table.column_split": {
        "rows": [
          [
            "expression",
            "Segment"
          ],
          [
            "field",
            "cube_sales.company",
            null
          ]
        ],
        "columns": [
          [
            "field",
            "cube_sales.category",
            null
          ]
        ],
        "values": [
          [
            "aggregation",
            0
          ]
        ]
      }
    },
    "parameters": [],
    "result_metadata": [
      {
        "base_type": "type/Text",
        "name": "Segment",
        "display_name": "Segment",
        "expression_name": "Segment",
        "field_ref": [
          "expression",
          "Segment"
        ],
        "source": "breakout"
      },
      {
        "description": null,
        "semantic_type": "type/Category",
        "table_id": 81,
        "coercion_strategy": null,
        "name": "category",
        "settings": null,
        "source": "breakout",
        "field_ref": [
          "field",
          "cube_sales.category",
          null
        ],
        "effective_type": "type/Text",
        "nfc_path": null,
        "parent_id": null,
        "id": 795,
        "visibility_type": "normal",
        "display_name": "Category",
        "fingerprint": {
          "global": {
            "distinct-count": 3,
            "nil%": 0.0
          },
          "type": {
            "type/Text": {
              "percent-json": 0.0,
              "percent-url": 0.0,
              "percent-email": 0.0,
              "percent-state": 0.0,
              "average-length": 17.24783427495292
            }
          }
        },
        "base_type": "type/Text"
      },
      {
        "description": null,
        "semantic_type": "type/Category",
        "table_id": 81,
        "coercion_strategy": null,
        "name": "company",
        "settings": null,
        "source": "breakout",
        "field_ref": [
          "field",
          "cube_sales.company",
          null
        ],
        "effective_type": "type/Text",
        "nfc_path": null,
        "parent_id": null,
        "id": 793,
        "visibility_type": "normal",
        "display_name": "Company",
        "fingerprint": {
          "global": {
            "distinct-count": 8,
            "nil%": 0.0
          },
          "type": {
            "type/Text": {
              "percent-json": 0.0,
              "percent-url": 0.0,
              "percent-email": 0.0,
              "percent-state": 0.0,
              "average-length": 1.0
            }
          }
        },
        "base_type": "type/Text"
      },
      {
        "base_type": "type/Decimal",
        "semantic_type": null,
        "settings": null,
        "name": "sum",
        "display_name": "Somme de Price Total",
        "source": "aggregation",
        "field_ref": [
          "aggregation",
          0
        ]
      }
    ]
  },
  {
    "name": "ALL Sales Total by Date",
    "description": null,
    "dataset_query": {
      "type": "query",
      "query": {
        "source-table": "cube_sales",
        "filter": [
          "and",
          [
            "=",
            [
              "field",
              "cube_sales.game",
              null
            ],
            "BI2 2-PTA"
          ],
          [
            "=",
            [
              "field",
              "cube_sales.classroom",
              null
            ],
            "2-PTA"
          ]
        ],
        "aggregation": [
          [
            "sum",
            [
              "field",
              "cube_sales.price_total",
              null
            ]
          ]
        ],
        "breakout": [
          [
            "field",
            "cube_sales.date_invoice",
            {
              "temporal-unit": "day"
            }
          ],
          [
            "field",
            "cube_sales.company",
            null
          ]
        ],
        "order-by": [
          [
            "asc",
            [
              "field",
              "cube_sales.company",
              null
            ]
          ],
          [
            "asc",
            [
              "field",
              "cube_sales.date_invoice",
              {
                "temporal-unit": "day"
              }
            ]
          ]
        ]
      },
      "database": "Aroolla 2-PTA"
    },
    "display": "bar",
    "visualization_settings": {
      "table.pivot": false,
      "graph.dimensions": [
        "date_invoice",
        "company"
      ],
      "stackable.stack_type": "stacked",
      "graph.metrics": [
        "sum"
      ]
    },
    "parameters": [],
    "result_metadata": [
      {
        "description": null,
        "semantic_type": null,
        "coercion_strategy": null,
        "unit": "day",
        "name": "date_invoice",
        "settings": null,
        "field_ref": [
          "field",
          "cube_sales.date_invoice",
          {
            "temporal-unit": "day"
          }
        ],
        "effective_type": "type/Date",
        "id": 790,
        "visibility_type": "normal",
        "display_name": "Date Invoice",
        "fingerprint": {
          "global": {
            "distinct-count": 34,
            "nil%": 0.0
          },
          "type": {
            "type/DateTime": {
              "earliest": "2023-01-08",
              "latest": "2023-02-20"
            }
          }
        },
        "base_type": "type/Date"
      },
      {
        "description": null,
        "semantic_type": "type/Category",
        "coercion_strategy": null,
        "name": "company",
        "settings": null,
        "field_ref": [
          "field",
          "cube_sales.company",
          null
        ],
        "effective_type": "type/Text",
        "id": 793,
        "visibility_type": "normal",
        "display_name": "Company",
        "fingerprint": {
          "global": {
            "distinct-count": 8,
            "nil%": 0.0
          },
          "type": {
            "type/Text": {
              "percent-json": 0.0,
              "percent-url": 0.0,
              "percent-email": 0.0,
              "percent-state": 0.0,
              "average-length": 1.0
            }
          }
        },
        "base_type": "type/Text"
      },
      {
        "display_name": "Somme de Price Total",
        "semantic_type": null,
        "settings": null,
        "field_ref": [
          "aggregation",
          0
        ],
        "name": "sum",
        "base_type": "type/Decimal",
        "effective_type": "type/Decimal",
        "fingerprint": {
          "global": {
            "distinct-count": 237,
            "nil%": 0.0
          },
          "type": {
            "type/Number": {
              "min": 2441.25,
              "q1": 113382.46970239114,
              "q3": 238273.3522611201,
              "max": 967301.0,
              "sd": 136679.21843338024,
              "avg": 190378.30039062502
            }
          }
        }
      }
    ]
  },
  {
    "name": "Dashboard",
    "description": null,
    "dataset_query": {
      "type": "query",
      "query": {
        "source-table": "cube_financial",
        "filter": [
          "and",
          [
            "=",
            [
              "field",
              "cube_financial.classroom",
              null
            ],
            "2-PTA"
          ],
          [
            "=",
            [
              "field",
              "cube_financial.game",
              null
            ],
            "BI2 2-PTA"
          ]
        ],
        "expressions": {
          "marketing": [
            "case",
            [
              [
                [
                  "=",
                  [
                    "field",
                    "cube_financial.account_code",
                    null
                  ],
                  "6600"
                ],
                [
                  "*",
                  [
                    "field",
                    "cube_financial.amount",
                    null
                  ],
                  -1
                ]
              ]
            ],
            {
              "default": 0
            }
          ],
          "equity": [
            "case",
            [
              [
                [
                  "=",
                  [
                    "field",
                    "cube_financial.type",
                    null
                  ],
                  "Equity"
                ],
                [
                  "field",
                  "cube_financial.amount",
                  null
                ]
              ]
            ],
            {
              "default": 0
            }
          ],
          "cogs": [
            "case",
            [
              [
                [
                  "=",
                  [
                    "field",
                    "cube_financial.account_code",
                    null
                  ],
                  "4008"
                ],
                [
                  "*",
                  [
                    "field",
                    "cube_financial.amount",
                    null
                  ],
                  -1
                ]
              ]
            ],
            {
              "default": 0
            }
          ],
          "Cash": [
            "case",
            [
              [
                [
                  "=",
                  [
                    "field",
                    "cube_financial.account_code",
                    null
                  ],
                  "1022"
                ],
                [
                  "field",
                  "cube_financial.amount",
                  null
                ]
              ]
            ],
            {
              "default": 0
            }
          ],
          "financial expenses": [
            "case",
            [
              [
                [
                  "=",
                  [
                    "field",
                    "cube_financial.account_code",
                    null
                  ],
                  "6900"
                ],
                [
                  "*",
                  [
                    "field",
                    "cube_financial.amount",
                    null
                  ],
                  -1
                ]
              ]
            ],
            {
              "default": 0
            }
          ],
          "net_income": [
            "case",
            [
              [
                [
                  "or",
                  [
                    "=",
                    [
                      "field",
                      "cube_financial.type",
                      null
                    ],
                    "Expenses"
                  ],
                  [
                    "=",
                    [
                      "field",
                      "cube_financial.type",
                      null
                    ],
                    "Income"
                  ]
                ],
                [
                  "field",
                  "cube_financial.amount",
                  null
                ]
              ]
            ],
            {
              "default": 0
            }
          ],
          "rent and salaries": [
            "case",
            [
              [
                [
                  "or",
                  [
                    "=",
                    [
                      "field",
                      "cube_financial.account_code",
                      null
                    ],
                    "6000"
                  ],
                  [
                    "=",
                    [
                      "field",
                      "cube_financial.account_code",
                      null
                    ],
                    "5000"
                  ]
                ],
                [
                  "*",
                  [
                    "field",
                    "cube_financial.amount",
                    null
                  ],
                  -1
                ]
              ]
            ],
            {
              "default": 0
            }
          ],
          "sales": [
            "case",
            [
              [
                [
                  "=",
                  [
                    "field",
                    "cube_financial.account_code",
                    null
                  ],
                  "3200"
                ],
                [
                  "field",
                  "cube_financial.amount",
                  null
                ]
              ]
            ],
            {
              "default": 0
            }
          ],
          "debt": [
            "case",
            [
              [
                [
                  "=",
                  [
                    "field",
                    "cube_financial.account_code",
                    null
                  ],
                  "2100"
                ],
                [
                  "field",
                  "cube_financial.amount",
                  null
                ]
              ]
            ],
            {
              "default": 0
            }
          ]
        },
        "aggregation": [
          [
            "aggregation-options",
            [
              "/",
              [
                "sum",
                [
                  "-",
                  [
                    "expression",
                    "sales"
                  ],
                  [
                    "expression",
                    "cogs"
                  ]
                ]
              ],
              [
                "sum",
                [
                  "expression",
                  "sales"
                ]
              ]
            ],
            {
              "name": "Gross margin (%)",
              "display-name": "Gross margin (%)"
            }
          ],
          [
            "aggregation-options",
            [
              "/",
              [
                "sum",
                [
                  "expression",
                  "debt"
                ]
              ],
              [
                "sum",
                [
                  "expression",
                  "equity"
                ]
              ]
            ],
            {
              "name": "Debt/Equity (%)",
              "display-name": "Debt/Equity (%)"
            }
          ],
          [
            "aggregation-options",
            [
              "/",
              [
                "sum",
                [
                  "expression",
                  "marketing"
                ]
              ],
              [
                "sum",
                [
                  "expression",
                  "sales"
                ]
              ]
            ],
            {
              "name": "Marketing/Sales (%)",
              "display-name": "Marketing/Sales (%)"
            }
          ],
          [
            "aggregation-options",
            [
              "sum",
              [
                "expression",
                "net_income"
              ]
            ],
            {
              "name": "Net income",
              "display-name": "Net income"
            }
          ],
          [
            "aggregation-options",
            [
              "sum",
              [
                "expression",
                "debt"
              ]
            ],
            {
              "name": "Debt",
              "display-name": "Debt"
            }
          ],
          [
            "aggregation-options",
            [
              "sum",
              [
                "expression",
                "sales"
              ]
            ],
            {
              "name": "Sales",
              "display-name": "Sales"
            }
          ],
          [
            "aggregation-options",
            [
              "sum",
              [
                "expression",
                "cogs"
              ]
            ],
            {
              "name": "Cogs",
              "display-name": "Cogs"
            }
          ],
          [
            "aggregation-options",
            [
              "sum",
              [
                "expression",
                "marketing"
              ]
            ],
            {
              "name": "Marketing",
              "display-name": "Marketing"
            }
          ],
          [
            "aggregation-options",
            [
              "sum",
              [
                "expression",
                "financial expenses"
              ]
            ],
            {
              "name": "Financial Expenses",
              "display-name": "Financial Expenses"
            }
          ],
          [
            "aggregation-options",
            [
              "sum",
              [
                "expression",
                "rent and salaries"
              ]
            ],
            {
              "name": "Rent & Salaries",
              "display-name": "Rent & Salaries"
            }
          ],
          [
            "aggregation-options",
            [
              "/",
              [
                "sum",
                [
                  "expression",
                  "net_income"
                ]
              ],
              [
                "sum",
                [
                  "expression",
                  "sales"
                ]
              ]
            ],
            {
              "name": "Net margin (%)",
              "display-name": "Net margin (%)"
            }
          ],
          [
            "aggregation-options",
            [
              "*",
              [
                "sum",
                [
                  "expression",
                  "Cash"
                ]
              ],
              -1
            ],
            {
              "name": "Cash",
              "display-name": "Cash"
            }
          ]
        ],
        "breakout": [
          [
            "field",
            "cube_financial.company",
            null
          ]
        ],
        "order-by": [
          [
            "desc",
            [
              "aggregation",
              3,
              null
            ]
          ]
        ]
      },
      "database": "Aroolla 2-PTA"
    },
    "display": "table",
    "visualization_settings": {
      "table.pivot": false,
      "table.columns": [
        {
          "name": "company",
          "fieldRef": [
            "field",
            "cube_financial.company",
            null
          ],
          "enabled": true
        },
        {
          "name": "Net income",
          "fieldRef": [
            "aggregation",
            3
          ],
          "enabled": true
        },
        {
          "name": "Sales",
          "fieldRef": [
            "aggregation",
            5
          ],
          "enabled": true
        },
        {
          "name": "Cogs",
          "fieldRef": [
            "aggregation",
            6
          ],
          "enabled": true
        },
        {
          "name": "Gross margin (%)",
          "fieldRef": [
            "aggregation",
            0
          ],
          "enabled": true
        },
        {
          "name": "Net margin (%)",
          "field_ref": [
            "aggregation",
            10,
            null
          ],
          "enabled": true
        },
        {
          "name": "Marketing/Sales (%)",
          "fieldRef": [
            "aggregation",
            2
          ],
          "enabled": true
        },
        {
          "name": "Debt/Equity (%)",
          "fieldRef": [
            "aggregation",
            1
          ],
          "enabled": true
        },
        {
          "name": "Debt",
          "fieldRef": [
            "aggregation",
            4
          ],
          "enabled": true
        },
        {
          "name": "Marketing",
          "fieldRef": [
            "aggregation",
            7
          ],
          "enabled": true
        },
        {
          "name": "Financial Expenses",
          "fieldRef": [
            "aggregation",
            8
          ],
          "enabled": true
        },
        {
          "name": "Rent & Salaries",
          "fieldRef": [
            "aggregation",
            9
          ],
          "enabled": true
        },
        {
          "name": "Cash",
          "field_ref": [
            "aggregation",
            11,
            null
          ],
          "enabled": true
        }
      ],
      "table.column_formatting": [
        {
          "max_value": 100,
          "color": "#F7C4C4",
          "columns": [
            "Net income"
          ],
          "value": 0,
          "type": "single",
          "colors": [
            "#ED6E6E",
            "#FFFFFF",
            "#84BB4C"
          ],
          "highlight_row": true,
          "min_value": 0,
          "min_type": null,
          "operator": "<",
          "max_type": null
        }
      ],
      "table.pivot_column": "company",
      "table.cell_column": "Gross margin (%)",
      "column_settings": {
        "[\"name\",\"Marketing/Sales (%)\"]": {
          "number_style": "percent",
          "decimals": 2,
          "show_mini_bar": true
        },
        "[\"name\",\"Rent & Salaries\"]": {
          "number_separators": ".’",
          "decimals": 0
        },
        "[\"name\",\"Debt/Equity (%)\"]": {
          "show_mini_bar": false,
          "number_style": "percent",
          "decimals": 2
        },
        "[\"name\",\"Marketing\"]": {
          "number_separators": ".’",
          "decimals": 0
        },
        "[\"name\",\"Financial Expenses\"]": {
          "number_separators": ".’",
          "decimals": 0
        },
        "[\"name\",\"Net income\"]": {
          "number_separators": ".’",
          "show_mini_bar": true,
          "decimals": 0,
          "prefix": ""
        },
        "[\"name\",\"Sales\"]": {
          "number_separators": ".’",
          "decimals": 0,
          "number_style": "decimal",
          "currency": "CHF",
          "currency_style": "code",
          "show_mini_bar": true
        },
        "[\"name\",\"Debt\"]": {
          "number_separators": ".’",
          "decimals": 0,
          "show_mini_bar": false
        },
        "[\"name\",\"Cogs\"]": {
          "number_separators": ".’",
          "decimals": 0,
          "show_mini_bar": true
        },
        "[\"name\",\"Cash\"]": {
          "number_separators": ".’",
          "decimals": 2
        },
        "[\"name\",\"Net margin (%)\"]": {
          "number_style": "percent",
          "show_mini_bar": true,
          "decimals": 2
        },
        "[\"name\",\"Gross margin (%)\"]": {
          "show_mini_bar": true,
          "number_style": "percent",
          "decimals": 2
        }
      }
    },
    "parameters": [],
    "result_metadata": [
      {
        "description": null,
        "semantic_type": "type/Category",
        "coercion_strategy": null,
        "name": "company",
        "settings": null,
        "field_ref": [
          "field",
          "cube_financial.company",
          null
        ],
        "effective_type": "type/Text",
        "id": 770,
        "visibility_type": "normal",
        "display_name": "Company",
        "fingerprint": {
          "global": {
            "distinct-count": 8,
            "nil%": 0.0
          },
          "type": {
            "type/Text": {
              "percent-json": 0.0,
              "percent-url": 0.0,
              "percent-email": 0.0,
              "percent-state": 0.0,
              "average-length": 1.0
            }
          }
        },
        "base_type": "type/Text"
      },
      {
        "display_name": "Gross margin (%)",
        "field_ref": [
          "aggregation",
          0
        ],
        "name": "Gross margin (%)",
        "base_type": "type/Float",
        "effective_type": "type/Float",
        "semantic_type": "type/GrossMargin",
        "fingerprint": {
          "global": {
            "distinct-count": 8,
            "nil%": 0.0
          },
          "type": {
            "type/Number": {
              "min": 0.13881273872071628,
              "q1": 0.23542055234704173,
              "q3": 0.34093697720193294,
              "max": 0.5009526197732141,
              "sd": 0.10711898283002465,
              "avg": 0.3010642022681537
            }
          }
        }
      },
      {
        "display_name": "Debt/Equity (%)",
        "field_ref": [
          "aggregation",
          1
        ],
        "name": "Debt/Equity (%)",
        "base_type": "type/Float",
        "effective_type": "type/Float",
        "semantic_type": null,
        "fingerprint": {
          "global": {
            "distinct-count": 3,
            "nil%": 0.0
          },
          "type": {
            "type/Number": {
              "min": 0.0,
              "q1": 0.0,
              "q3": 0.07669102155588337,
              "max": 0.396,
              "sd": 0.13975897620035513,
              "avg": 0.063
            }
          }
        }
      },
      {
        "display_name": "Marketing/Sales (%)",
        "field_ref": [
          "aggregation",
          2
        ],
        "name": "Marketing/Sales (%)",
        "base_type": "type/Float",
        "effective_type": "type/Float",
        "semantic_type": null,
        "fingerprint": {
          "global": {
            "distinct-count": 8,
            "nil%": 0.0
          },
          "type": {
            "type/Number": {
              "min": 0.006494378907352577,
              "q1": 0.014193975269174881,
              "q3": 0.031335371103258465,
              "max": 0.058066729024631995,
              "sd": 0.01654703993034835,
              "avg": 0.024449495638990622
            }
          }
        }
      },
      {
        "display_name": "Net income",
        "semantic_type": "type/Income",
        "field_ref": [
          "aggregation",
          3
        ],
        "name": "Net income",
        "base_type": "type/Decimal",
        "effective_type": "type/Decimal",
        "fingerprint": {
          "global": {
            "distinct-count": 8,
            "nil%": 0.0
          },
          "type": {
            "type/Number": {
              "min": 32309.24,
              "q1": 604615.15,
              "q3": 1528748.1800000002,
              "max": 3201540.5,
              "sd": 966448.1619558629,
              "avg": 1172632.935
            }
          }
        }
      },
      {
        "display_name": "Debt",
        "semantic_type": null,
        "field_ref": [
          "aggregation",
          4
        ],
        "name": "Debt",
        "base_type": "type/Decimal",
        "effective_type": "type/Decimal",
        "fingerprint": {
          "global": {
            "distinct-count": 3,
            "nil%": 0.0
          },
          "type": {
            "type/Number": {
              "min": 0.0,
              "q1": 0.0,
              "q3": 460146.1293353002,
              "max": 2376000.0,
              "sd": 838553.8572021307,
              "avg": 378000.0
            }
          }
        }
      },
      {
        "display_name": "Sales",
        "semantic_type": null,
        "field_ref": [
          "aggregation",
          5
        ],
        "name": "Sales",
        "base_type": "type/Decimal",
        "effective_type": "type/Decimal",
        "fingerprint": {
          "global": {
            "distinct-count": 8,
            "nil%": 0.0
          },
          "type": {
            "type/Number": {
              "min": 3418340.74,
              "q1": 4290404.6,
              "q3": 6259870.575,
              "max": 7808204.5,
              "sd": 1426908.5313189349,
              "avg": 5489627.36875
            }
          }
        }
      },
      {
        "display_name": "Cogs",
        "field_ref": [
          "aggregation",
          6
        ],
        "name": "Cogs",
        "base_type": "type/Decimal",
        "effective_type": "type/Decimal",
        "semantic_type": null,
        "fingerprint": {
          "global": {
            "distinct-count": 8,
            "nil%": 0.0
          },
          "type": {
            "type/Number": {
              "min": 2943831.5,
              "q1": 3092309.385,
              "q3": 4030803.5,
              "max": 4720386.5,
              "sd": 619176.8380629227,
              "avg": 3723136.4587499998
            }
          }
        }
      },
      {
        "display_name": "Marketing",
        "field_ref": [
          "aggregation",
          7
        ],
        "name": "Marketing",
        "base_type": "type/Decimal",
        "effective_type": "type/Decimal",
        "semantic_type": null,
        "fingerprint": {
          "global": {
            "distinct-count": 8,
            "nil%": 0.0
          },
          "type": {
            "type/Number": {
              "min": 22200.0,
              "q1": 61650.0,
              "q3": 224550.0,
              "max": 322500.0,
              "sd": 110294.33915664032,
              "avg": 145387.5
            }
          }
        }
      },
      {
        "display_name": "Financial Expenses",
        "field_ref": [
          "aggregation",
          8
        ],
        "name": "Financial Expenses",
        "base_type": "type/Decimal",
        "effective_type": "type/Decimal",
        "semantic_type": null,
        "fingerprint": {
          "global": {
            "distinct-count": 3,
            "nil%": 0.0
          },
          "type": {
            "type/Number": {
              "min": 0.0,
              "q1": 0.0,
              "q3": 34775.11766328444,
              "max": 178791.8,
              "sd": 63110.1315812683,
              "avg": 28470.475
            }
          }
        }
      },
      {
        "display_name": "Rent & Salaries",
        "field_ref": [
          "aggregation",
          9
        ],
        "name": "Rent & Salaries",
        "base_type": "type/Decimal",
        "effective_type": "type/Decimal",
        "semantic_type": null,
        "fingerprint": {
          "global": {
            "distinct-count": 1,
            "nil%": 0.0
          },
          "type": {
            "type/Number": {
              "min": 420000.0,
              "q1": 420000.0,
              "q3": 420000.0,
              "max": 420000.0,
              "sd": 0.0,
              "avg": 420000.0
            }
          }
        }
      },
      {
        "display_name": "Net margin (%)",
        "field_ref": [
          "aggregation",
          10
        ],
        "name": "Net margin (%)",
        "base_type": "type/Float",
        "effective_type": "type/Float",
        "semantic_type": "type/GrossMargin",
        "fingerprint": {
          "global": {
            "distinct-count": 8,
            "nil%": 0.0
          },
          "type": {
            "type/Number": {
              "min": 0.009451731836423071,
              "q1": 0.1223515654311946,
              "q3": 0.25048292063293265,
              "max": 0.4100226242793718,
              "sd": 0.11955667992350036,
              "avg": 0.1891834722869297
            }
          }
        }
      },
      {
        "display_name": "Cash",
        "field_ref": [
          "aggregation",
          11
        ],
        "name": "Cash",
        "base_type": "type/Decimal",
        "effective_type": "type/Decimal",
        "semantic_type": null,
        "fingerprint": {
          "global": {
            "distinct-count": 8,
            "nil%": 0.0
          },
          "type": {
            "type/Number": {
              "min": 147534.15,
              "q1": 720826.07,
              "q3": 2028801.6800000002,
              "max": 4089704.5,
              "sd": 1243147.3122053747,
              "avg": 1593818.70625
            }
          }
        }
      }
    ]
  },
  {
    "name": "Dashboard joined to calendar",
    "description": null,
    "dataset_query": {
      "database": "Aroolla 2-PTA",
      "query": {
        "source-table": "cube_financial",
        "filter": [
          "and",
          [
            "=",
            [
              "field",
              "cube_financial.classroom",
              null
            ],
            "2-PTA"
          ],
          [
            "=",
            [
              "field",
              "cube_financial.game",
              null
            ],
            "BI2 2-PTA"
          ]
        ],
        "expressions": {
          "net_income": [
            "case",
            [
              [
                [
                  "or",
                  [
                    "=",
                    [
                      "field",
                      "cube_financial.type",
                      null
                    ],
                    "Expenses"
                  ],
                  [
                    "=",
                    [
                      "field",
                      "cube_financial.type",
                      null
                    ],
                    "Income"
                  ]
                ],
                [
                  "field",
                  "cube_financial.amount",
                  null
                ]
              ]
            ],
            {
              "default": 0
            }
          ],
          "debt": [
            "case",
            [
              [
                [
                  "=",
                  [
                    "field",
                    "cube_financial.account_code",
                    null
                  ],
                  "2100"
                ],
                [
                  "field",
                  "cube_financial.amount",
                  null
                ]
              ]
            ],
            {
              "default": 0
            }
          ],
          "sales": [
            "case",
            [
              [
                [
                  "=",
                  [
                    "field",
                    "cube_financial.account_code",
                    null
                  ],
                  "3200"
                ],
                [
                  "field",
                  "cube_financial.amount",
                  null
                ]
              ]
            ],
            {
              "default": 0
            }
          ],
          "cogs": [
            "case",
            [
              [
                [
                  "=",
                  [
                    "field",
                    "cube_financial.account_code",
                    null
                  ],
                  "4008"
                ],
                [
                  "*",
                  [
                    "field",
                    "cube_financial.amount",
                    null
                  ],
                  -1
                ]
              ]
            ],
            {
              "default": 0
            }
          ],
          "equity": [
            "case",
            [
              [
                [
                  "=",
                  [
                    "field",
                    "cube_financial.type",
                    null
                  ],
                  "Equity"
                ],
                [
                  "field",
                  "cube_financial.amount",
                  null
                ]
              ]
            ],
            {
              "default": 0
            }
          ],
          "marketing": [
            "case",
            [
              [
                [
                  "=",
                  [
                    "field",
                    "cube_financial.account_code",
                    null
                  ],
                  "6600"
                ],
                [
                  "*",
                  [
                    "field",
                    "cube_financial.amount",
                    null
                  ],
                  -1
                ]
              ]
            ],
            {
              "default": 0
            }
          ],
          "financial expenses": [
            "case",
            [
              [
                [
                  "=",
                  [
                    "field",
                    "cube_financial.account_code",
                    null
                  ],
                  "6900"
                ],
                [
                  "*",
                  [
                    "field",
                    "cube_financial.amount",
                    null
                  ],
                  -1
                ]
              ]
            ],
            {
              "default": 0
            }
          ],
          "rent and salaries": [
            "case",
            [
              [
                [
                  "or",
                  [
                    "=",
                    [
                      "field",
                      "cube_financial.account_code",
                      null
                    ],
                    "6000"
                  ],
                  [
                    "=",
                    [
                      "field",
                      "cube_financial.account_code",
                      null
                    ],
                    "5000"
                  ]
                ],
                [
                  "*",
                  [
                    "field",
                    "cube_financial.amount",
                    null
                  ],
                  -1
                ]
              ]
            ],
            {
              "default": 0
            }
          ]
        },
        "aggregation": [
          [
            "aggregation-options",
            [
              "/",
              [
                "sum",
                [
                  "-",
                  [
                    "expression",
                    "sales"
                  ],
                  [
                    "expression",
                    "cogs"
                  ]
                ]
              ],
              [
                "sum",
                [
                  "expression",
                  "sales"
                ]
              ]
            ],
            {
              "name": "Gross margin (%)",
              "display-name": "Gross margin (%)"
            }
          ],
          [
            "aggregation-options",
            [
              "/",
              [
                "sum",
                [
                  "expression",
                  "debt"
                ]
              ],
              [
                "sum",
                [
                  "expression",
                  "equity"
                ]
              ]
            ],
            {
              "name": "Debt/Equity (%)",
              "display-name": "Debt/Equity (%)"
            }
          ],
          [
            "aggregation-options",
            [
              "/",
              [
                "sum",
                [
                  "expression",
                  "marketing"
                ]
              ],
              [
                "sum",
                [
                  "expression",
                  "sales"
                ]
              ]
            ],
            {
              "name": "Marketing/Sales (%)",
              "display-name": "Marketing/Sales (%)"
            }
          ],
          [
            "aggregation-options",
            [
              "sum",
              [
                "expression",
                "net_income"
              ]
            ],
            {
              "name": "Net income",
              "display-name": "Net income"
            }
          ],
          [
            "aggregation-options",
            [
              "sum",
              [
                "expression",
                "debt"
              ]
            ],
            {
              "name": "Debt",
              "display-name": "Debt"
            }
          ],
          [
            "aggregation-options",
            [
              "sum",
              [
                "expression",
                "sales"
              ]
            ],
            {
              "name": "Sales",
              "display-name": "Sales"
            }
          ],
          [
            "aggregation-options",
            [
              "sum",
              [
                "expression",
                "cogs"
              ]
            ],
            {
              "name": "Cogs",
              "display-name": "Cogs"
            }
          ],
          [
            "aggregation-options",
            [
              "sum",
              [
                "expression",
                "marketing"
              ]
            ],
            {
              "name": "Marketing",
              "display-name": "Marketing"
            }
          ],
          [
            "aggregation-options",
            [
              "sum",
              [
                "expression",
                "financial expenses"
              ]
            ],
            {
              "name": "Financial Expenses",
              "display-name": "Financial Expenses"
            }
          ],
          [
            "aggregation-options",
            [
              "sum",
              [
                "expression",
                "rent and salaries"
              ]
            ],
            {
              "name": "Rent & Salaries",
              "display-name": "Rent & Salaries"
            }
          ],
          [
            "aggregation-options",
            [
              "/",
              [
                "sum",
                [
                  "expression",
                  "net_income"
                ]
              ],
              [
                "sum",
                [
                  "expression",
                  "sales"
                ]
              ]
            ],
            {
              "name": "Net margin (%)",
              "display-name": "Net margin (%)"
            }
          ]
        ],
        "breakout": [
          [
            "field",
            "cube_financial.company",
            null
          ],
          [
            "field",
            "cube_calendar.round",
            {
              "join-alias": "Cube Calendar"
            }
          ]
        ],
        "order-by": [
          [
            "desc",
            [
              "aggregation",
              3,
              null
            ]
          ]
        ],
        "joins": [
          {
            "fields": "none",
            "source-table": "cube_calendar",
            "condition": [
              "and",
              [
                "=",
                [
                  "field",
                  "cube_financial.game",
                  null
                ],
                "BI2 2-PTA"
              ],
              [
                "=",
                [
                  "field",
                  "cube_financial.classroom",
                  null
                ],
                "2-PTA"
              ],
              [
                "=",
                [
                  "field",
                  "cube_financial.date",
                  {
                    "temporal-unit": "day"
                  }
                ],
                [
                  "field",
                  "cube_calendar.date",
                  {
                    "join-alias": "Cube Calendar",
                    "temporal-unit": "day"
                  }
                ]
              ]
            ],
            "alias": "Cube Calendar"
          }
        ]
      },
      "type": "query"
    },
    "display": "pivot",
    "visualization_settings": {
      "table.pivot": false,
      "table.columns": [
        {
          "name": "company",
          "fieldRef": [
            "field",
            "cube_financial.company",
            null
          ],
          "enabled": true
        },
        {
          "name": "Net income",
          "fieldRef": [
            "aggregation",
            3
          ],
          "enabled": true
        },
        {
          "name": "Sales",
          "fieldRef": [
            "aggregation",
            5
          ],
          "enabled": true
        },
        {
          "name": "Cogs",
          "fieldRef": [
            "aggregation",
            6
          ],
          "enabled": true
        },
        {
          "name": "Gross margin (%)",
          "fieldRef": [
            "aggregation",
            0
          ],
          "enabled": true
        },
        {
          "name": "Net margin (%)",
          "fieldRef": [
            "aggregation",
            10
          ],
          "enabled": true
        },
        {
          "name": "Marketing/Sales (%)",
          "fieldRef": [
            "aggregation",
            2
          ],
          "enabled": true
        },
        {
          "name": "Debt",
          "fieldRef": [
            "aggregation",
            4
          ],
          "enabled": true
        },
        {
          "name": "Debt/Equity (%)",
          "fieldRef": [
            "aggregation",
            1
          ],
          "enabled": true
        },
        {
          "name": "Marketing",
          "fieldRef": [
            "aggregation",
            7
          ],
          "enabled": true
        },
        {
          "name": "Financial Expenses",
          "fieldRef": [
            "aggregation",
            8
          ],
          "enabled": true
        },
        {
          "name": "Rent & Salaries",
          "fieldRef": [
            "aggregation",
            9
          ],
          "enabled": true
        },
        {
          "name": "round",
          "field_ref": [
            "field",
            "cube_calendar.round",
            {
              "join-alias": "Cube Calendar"
            }
          ],
          "enabled": true
        }
      ],
      "table.column_formatting": [
        {
          "max_value": 100,
          "color": "#F7C4C4",
          "columns": [
            "Net income"
          ],
          "value": 0,
          "type": "single",
          "colors": [
            "#ED6E6E",
            "#FFFFFF",
            "#84BB4C"
          ],
          "highlight_row": true,
          "min_value": 0,
          "min_type": null,
          "operator": "<",
          "max_type": null
        }
      ],
      "table.pivot_column": "company",
      "table.cell_column": "Gross margin (%)",
      "pivot_table.column_split": {
        "rows": [
          [
            "field",
            "cube_calendar.round",
            {
              "join-alias": "Cube Calendar"
            }
          ],
          [
            "field",
            "cube_financial.company",
            null
          ]
        ],
        "columns": [],
        "values": [
          [
            "aggregation",
            3
          ],
          [
            "aggregation",
            5
          ],
          [
            "aggregation",
            6
          ],
          [
            "aggregation",
            0
          ],
          [
            "aggregation",
            10
          ],
          [
            "aggregation",
            2
          ],
          [
            "aggregation",
            1
          ],
          [
            "aggregation",
            4
          ],
          [
            "aggregation",
            7
          ],
          [
            "aggregation",
            8
          ],
          [
            "aggregation",
            9
          ]
        ]
      },
      "column_settings": {
        "[\"name\",\"Marketing/Sales (%)\"]": {
          "number_style": "percent",
          "decimals": 2,
          "show_mini_bar": true
        },
        "[\"name\",\"Rent & Salaries\"]": {
          "number_separators": ".’",
          "decimals": 0
        },
        "[\"name\",\"Debt/Equity (%)\"]": {
          "show_mini_bar": false,
          "number_style": "percent",
          "decimals": 2
        },
        "[\"name\",\"Marketing\"]": {
          "number_separators": ".’",
          "decimals": 0
        },
        "[\"name\",\"Financial Expenses\"]": {
          "number_separators": ".’",
          "decimals": 0
        },
        "[\"name\",\"Net income\"]": {
          "number_separators": ".’",
          "show_mini_bar": true,
          "decimals": 0,
          "prefix": ""
        },
        "[\"name\",\"Sales\"]": {
          "number_separators": ".’",
          "decimals": 0,
          "number_style": "decimal",
          "currency": "CHF",
          "currency_style": "code",
          "show_mini_bar": true
        },
        "[\"ref\",[\"field\",1487,null]]": {
          "pivot_table.column_show_totals": true
        },
        "[\"name\",\"Debt\"]": {
          "number_separators": ".’",
          "decimals": 0,
          "show_mini_bar": false
        },
        "[\"name\",\"Cogs\"]": {
          "number_separators": ".’",
          "decimals": 0,
          "show_mini_bar": true
        },
        "[\"name\",\"Net margin (%)\"]": {
          "number_style": "percent",
          "show_mini_bar": true,
          "decimals": 2
        },
        "[\"name\",\"Gross margin (%)\"]": {
          "show_mini_bar": true,
          "number_style": "percent",
          "decimals": 2
        }
      }
    },
    "parameters": [],
    "result_metadata": [
      {
        "description": null,
        "semantic_type": "type/Category",
        "table_id": 80,
        "coercion_strategy": null,
        "name": "company",
        "settings": null,
        "source": "breakout",
        "field_ref": [
          "field",
          "cube_financial.company",
          null
        ],
        "effective_type": "type/Text",
        "nfc_path": null,
        "parent_id": null,
        "id": 770,
        "visibility_type": "normal",
        "display_name": "Company",
        "fingerprint": {
          "global": {
            "distinct-count": 8,
            "nil%": 0.0
          },
          "type": {
            "type/Text": {
              "percent-json": 0.0,
              "percent-url": 0.0,
              "percent-email": 0.0,
              "percent-state": 0.0,
              "average-length": 1.0
            }
          }
        },
        "base_type": "type/Text"
      },
      {
        "description": null,
        "semantic_type": null,
        "table_id": 83,
        "coercion_strategy": null,
        "name": "round",
        "settings": null,
        "source": "breakout",
        "field_ref": [
          "field",
          "cube_calendar.round",
          {
            "join-alias": "Cube Calendar"
          }
        ],
        "effective_type": "type/Decimal",
        "nfc_path": null,
        "parent_id": null,
        "id": 1487,
        "visibility_type": "normal",
        "display_name": "Cube Calendar → Round",
        "fingerprint": {
          "global": {
            "distinct-count": 3,
            "nil%": 0.0
          },
          "type": {
            "type/Number": {
              "min": 1.0,
              "q1": 1.0833333333333333,
              "q3": 2.275255128608411,
              "max": 3.0,
              "sd": 0.7049073768502414,
              "avg": 1.7142857142857142
            }
          }
        },
        "base_type": "type/Decimal",
        "source_alias": "Cube Calendar"
      },
      {
        "base_type": "type/Float",
        "name": "Gross margin (%)",
        "display_name": "Gross margin (%)",
        "source": "aggregation",
        "field_ref": [
          "aggregation",
          0
        ]
      },
      {
        "base_type": "type/Float",
        "name": "Debt/Equity (%)",
        "display_name": "Debt/Equity (%)",
        "source": "aggregation",
        "field_ref": [
          "aggregation",
          1
        ]
      },
      {
        "base_type": "type/Float",
        "name": "Marketing/Sales (%)",
        "display_name": "Marketing/Sales (%)",
        "source": "aggregation",
        "field_ref": [
          "aggregation",
          2
        ]
      },
      {
        "base_type": "type/Decimal",
        "semantic_type": null,
        "name": "Net income",
        "display_name": "Net income",
        "source": "aggregation",
        "field_ref": [
          "aggregation",
          3
        ]
      },
      {
        "base_type": "type/Decimal",
        "semantic_type": null,
        "name": "Debt",
        "display_name": "Debt",
        "source": "aggregation",
        "field_ref": [
          "aggregation",
          4
        ]
      },
      {
        "base_type": "type/Decimal",
        "semantic_type": null,
        "name": "Sales",
        "display_name": "Sales",
        "source": "aggregation",
        "field_ref": [
          "aggregation",
          5
        ]
      },
      {
        "base_type": "type/Float",
        "name": "Cogs",
        "display_name": "Cogs",
        "source": "aggregation",
        "field_ref": [
          "aggregation",
          6
        ]
      },
      {
        "base_type": "type/Float",
        "name": "Marketing",
        "display_name": "Marketing",
        "source": "aggregation",
        "field_ref": [
          "aggregation",
          7
        ]
      },
      {
        "base_type": "type/Float",
        "name": "Financial Expenses",
        "display_name": "Financial Expenses",
        "source": "aggregation",
        "field_ref": [
          "aggregation",
          8
        ]
      },
      {
        "base_type": "type/Float",
        "name": "Rent & Salaries",
        "display_name": "Rent & Salaries",
        "source": "aggregation",
        "field_ref": [
          "aggregation",
          9
        ]
      },
      {
        "base_type": "type/Float",
        "name": "Net margin (%)",
        "display_name": "Net margin (%)",
        "source": "aggregation",
        "field_ref": [
          "aggregation",
          10
        ]
      }
    ]
  },
  {
    "name": "Financial Debts Evolution",
    "description": null,
    "dataset_query": {
      "type": "query",
      "query": {
        "source-table": "cube_financial",
        "filter": [
          "and",
          [
            "=",
            [
              "field",
              "cube_financial.game",
              null
            ],
            "BI2 2-PTA"
          ],
          [
            "=",
            [
              "field",
              "cube_financial.account",
              null
            ],
            "Bank Overdraft (Bank)"
          ],
          [
            "=",
            [
              "field",
              "cube_financial.company",
              null
            ],
            "E"
          ],
          [
            "=",
            [
              "field",
              "cube_financial.classroom",
              null
            ],
            "2-PTA"
          ]
        ],
        "aggregation": [
          [
            "cum-sum",
            [
              "field",
              "cube_financial.amount",
              null
            ]
          ]
        ],
        "breakout": [
          [
            "field",
            "cube_financial.date",
            {
              "temporal-unit": "day"
            }
          ],
          [
            "field",
            "cube_financial.company",
            null
          ]
        ]
      },
      "database": "Aroolla 2-PTA"
    },
    "display": "line",
    "visualization_settings": {
      "graph.show_values": false,
      "graph.show_goal": false,
      "graph.dimensions": [
        "date",
        "company"
      ],
      "pivot_table.column_split": {
        "rows": [
          [
            "field",
            "cube_financial.date",
            {
              "temporal-unit": "day"
            }
          ]
        ],
        "columns": [
          [
            "field",
            "cube_financial.company",
            null
          ]
        ],
        "values": [
          [
            "aggregation",
            0
          ]
        ]
      },
      "graph.metrics": [
        "sum"
      ]
    },
    "parameters": [],
    "result_metadata": [
      {
        "description": null,
        "semantic_type": null,
        "table_id": 80,
        "coercion_strategy": null,
        "unit": "day",
        "name": "date",
        "settings": null,
        "source": "breakout",
        "field_ref": [
          "field",
          "cube_financial.date",
          {
            "temporal-unit": "day"
          }
        ],
        "effective_type": "type/Date",
        "nfc_path": null,
        "parent_id": null,
        "id": 762,
        "visibility_type": "normal",
        "display_name": "Date",
        "fingerprint": {
          "global": {
            "distinct-count": 12,
            "nil%": 0.0
          },
          "type": {
            "type/DateTime": {
              "earliest": "2022-11-16",
              "latest": "2023-02-20"
            }
          }
        },
        "base_type": "type/Date"
      },
      {
        "description": null,
        "semantic_type": "type/Category",
        "table_id": 80,
        "coercion_strategy": null,
        "name": "company",
        "settings": null,
        "source": "breakout",
        "field_ref": [
          "field",
          "cube_financial.company",
          null
        ],
        "effective_type": "type/Text",
        "nfc_path": null,
        "parent_id": null,
        "id": 770,
        "visibility_type": "normal",
        "display_name": "Company",
        "fingerprint": {
          "global": {
            "distinct-count": 8,
            "nil%": 0.0
          },
          "type": {
            "type/Text": {
              "percent-json": 0.0,
              "percent-url": 0.0,
              "percent-email": 0.0,
              "percent-state": 0.0,
              "average-length": 1.0
            }
          }
        },
        "base_type": "type/Text"
      },
      {
        "base_type": "type/Decimal",
        "semantic_type": null,
        "settings": null,
        "name": "sum",
        "display_name": "Somme de Amount",
        "source": "aggregation",
        "field_ref": [
          "aggregation",
          0
        ]
      }
    ]
  },
  {
    "name": "Financial Profit Evolution",
    "description": null,
    "dataset_query": {
      "type": "query",
      "query": {
        "source-table": "cube_financial",
        "filter": [
          "and",
          [
            "=",
            [
              "field",
              "cube_financial.game",
              null
            ],
            "BI2 2-PTA"
          ],
          [
            "=",
            [
              "field",
              "cube_financial.type",
              null
            ],
            "Income",
            "Expenses"
          ],
          [
            "=",
            [
              "field",
              "cube_financial.company",
              null
            ],
            "A"
          ],
          [
            "=",
            [
              "field",
              "cube_financial.classroom",
              null
            ],
            "2-PTA"
          ]
        ],
        "aggregation": [
          [
            "cum-sum",
            [
              "field",
              "cube_financial.amount",
              null
            ]
          ]
        ],
        "breakout": [
          [
            "field",
            "cube_financial.company",
            null
          ],
          [
            "field",
            "cube_financial.date",
            {
              "temporal-unit": "day"
            }
          ]
        ]
      },
      "database": "Aroolla 2-PTA"
    },
    "display": "line",
    "visualization_settings": {
      "graph.show_values": false,
      "graph.show_goal": false,
      "graph.dimensions": [
        "date",
        "company"
      ],
      "graph.metrics": [
        "sum"
      ]
    },
    "parameters": [],
    "result_metadata": [
      {
        "description": null,
        "semantic_type": "type/Category",
        "table_id": 80,
        "coercion_strategy": null,
        "name": "company",
        "settings": null,
        "source": "breakout",
        "field_ref": [
          "field",
          "cube_financial.company",
          null
        ],
        "effective_type": "type/Text",
        "nfc_path": null,
        "parent_id": null,
        "id": 770,
        "visibility_type": "normal",
        "display_name": "Company",
        "fingerprint": {
          "global": {
            "distinct-count": 8,
            "nil%": 0.0
          },
          "type": {
            "type/Text": {
              "percent-json": 0.0,
              "percent-url": 0.0,
              "percent-email": 0.0,
              "percent-state": 0.0,
              "average-length": 1.0
            }
          }
        },
        "base_type": "type/Text"
      },
      {
        "description": null,
        "semantic_type": null,
        "table_id": 80,
        "coercion_strategy": null,
        "unit": "day",
        "name": "date",
        "settings": null,
        "source": "breakout",
        "field_ref": [
          "field",
          "cube_financial.date",
          {
            "temporal-unit": "day"
          }
        ],
        "effective_type": "type/Date",
        "nfc_path": null,
        "parent_id": null,
        "id": 762,
        "visibility_type": "normal",
        "display_name": "Date",
        "fingerprint": {
          "global": {
            "distinct-count": 12,
            "nil%": 0.0
          },
          "type": {
            "type/DateTime": {
              "earliest": "2022-11-16",
              "latest": "2023-02-20"
            }
          }
        },
        "base_type": "type/Date"
      },
      {
        "base_type": "type/Decimal",
        "semantic_type": null,
        "settings": null,
        "name": "sum",
        "display_name": "Somme de Amount",
        "source": "aggregation",
        "field_ref": [
          "aggregation",
          0
        ]
      }
    ]
  },
  {
    "name": "Gross Margin By Product and Date",
    "description": null,
    "dataset_query": {
      "database": "Aroolla 2-PTA",
      "native": {
        "query": "SELECT \n  \"sales\".\"date\" AS \"date\",\n  \"sales\".\"product\" AS \"product\",\n  \n  (\n    (\n      CAST(\n        (\n          sum(\"sales\".\"sum\") - sum(\"inventory\".\"COGS\")\n        ) AS float\n      ) / CASE WHEN sum(\"sales\".\"sum\") = 0 THEN NULL ELSE sum(\"sales\".\"sum\") END\n    ) * 100\n  ) AS \"Gross margin\" \nFROM \n  (\n    SELECT \n      \"cube_sales\".\"company\" AS \"company\", \n      \"cube_sales\".\"classroom\" AS \"classroom\", \n      \"cube_sales\".\"game\" AS \"game\", \n      \"cube_sales\".\"product\" AS \"product\", \n      \"cube_sales\".\"date_invoice\" AS \"date\",\n      sum(\"cube_sales\".\"price_total\") AS \"sum\" \n    FROM \n      \"cube_sales\" \n    WHERE \n  (\n    {{ classroom }} AND\n    {{ game }} AND\n    {{ company }}\n  ) \n    GROUP BY \n      \"cube_sales\".\"company\", \n      \"cube_sales\".\"classroom\", \n      \"cube_sales\".\"game\", \n      \"cube_sales\".\"product\" ,\n      \"cube_sales\".\"date_invoice\"\n  ) \"sales\" \n  INNER JOIN (\n    SELECT \n      \"cube_inventory\".\"company\" AS \"company\", \n      \"cube_inventory\".\"product\" AS \"product\", \n      \"cube_inventory\".\"game\" AS \"game\", \n      \"cube_inventory\".\"classroom\" AS \"classroom\", \n      \"cube_inventory\".\"date\",\n      (\n        sum(\"cube_inventory\".\"valuation\") * -1\n      ) AS \"COGS\" \n    FROM \n      \"cube_inventory\" \n    WHERE \n      \"cube_inventory\".\"destination\" = 'Customers' \n    GROUP BY \n      \"cube_inventory\".\"company\", \n      \"cube_inventory\".\"product\", \n      \"cube_inventory\".\"game\", \n      \"cube_inventory\".\"classroom\",\n      \"cube_inventory\".\"date\"\n  ) \"inventory\" ON (\n    \"sales\".\"company\" = \"inventory\".\"company\" \n    AND \"sales\".\"classroom\" = \"inventory\".\"classroom\" \n    AND \"sales\".\"game\" = \"inventory\".\"game\" \n    AND \"sales\".\"product\" = \"inventory\".\"product\"\n    AND \"sales\".\"date\" = \"inventory\".\"date\"\n  ) \nGROUP BY \n  \"sales\".\"product\",\n  \"sales\".\"date\"\nORDER BY \n  \"sales\".\"date\" ASC, \n  \"sales\".\"product\" ASC\n",
        "template-tags": {
          "classroom": {
            "id": "982d8db0-319f-8e7a-77c7-d534904833a1",
            "name": "classroom",
            "display-name": "Classroom",
            "type": "dimension",
            "dimension": [
              "field",
              "cube_sales.classroom",
              null
            ],
            "widget-type": "string/=",
            "default": [
              "2-PTA"
            ],
            "required": true
          },
          "game": {
            "id": "555ac0b6-9e04-be0e-045b-44e723483dc7",
            "name": "game",
            "display-name": "Game",
            "type": "dimension",
            "dimension": [
              "field",
              "cube_sales.game",
              null
            ],
            "widget-type": "string/=",
            "default": [
              "BI2 2-PTA"
            ],
            "required": true
          },
          "company": {
            "id": "e8cde4e6-8810-0fef-342a-a6c3c0795beb",
            "name": "company",
            "display-name": "Company",
            "type": "dimension",
            "dimension": [
              "field",
              "cube_sales.company",
              null
            ],
            "widget-type": "string/=",
            "required": true
          }
        }
      },
      "type": "native"
    },
    "display": "line",
    "visualization_settings": {
      "pivot_table.column_split": {
        "rows": [
          [
            "field",
            170,
            null
          ]
        ],
        "columns": [
          [
            "field",
            167,
            null
          ]
        ],
        "values": [
          [
            "aggregation",
            0
          ]
        ]
      },
      "table.pivot": true,
      "table.pivot_column": "company",
      "table.cell_column": "Gross margin",
      "graph.dimensions": [
        "date",
        "product"
      ],
      "graph.show_values": true,
      "column_settings": {
        "[\"name\",\"Gross margin\"]": {}
      },
      "graph.metrics": [
        "Gross margin"
      ]
    },
    "parameters": [
      {
        "id": "982d8db0-319f-8e7a-77c7-d534904833a1",
        "type": "string/=",
        "target": [
          "dimension",
          [
            "template-tag",
            "classroom"
          ]
        ],
        "name": "Classroom",
        "slug": "classroom",
        "default": [
          "2-PTA"
        ]
      },
      {
        "id": "555ac0b6-9e04-be0e-045b-44e723483dc7",
        "type": "string/=",
        "target": [
          "dimension",
          [
            "template-tag",
            "game"
          ]
        ],
        "name": "Game",
        "slug": "game",
        "default": [
          "BI2 2-PTA"
        ]
      },
      {
        "id": "e8cde4e6-8810-0fef-342a-a6c3c0795beb",
        "type": "string/=",
        "target": [
          "dimension",
          [
            "template-tag",
            "company"
          ]
        ],
        "name": "Company",
        "slug": "company"
      }
    ],
    "result_metadata": null
  },
  {
    "name": "Marketing Products per Day",
    "description": null,
    "dataset_query": {
      "database": "Aroolla 2-PTA",
      "query": {
        "source-table": "cube_marketing_report",
        "filter": [
          "and",
          [
            "=",
            [
              "field",
              "cube_marketing_report.game",
              null
            ],
            "BI2 2-PTA"
          ],
          [
            "=",
            [
              "field",
              "cube_marketing_report.company",
              null
            ],
            "E"
          ],
          [
            "=",
            [
              "field",
              "cube_marketing_report.classroom",
              null
            ],
            "2-PTA"
          ]
        ],
        "aggregation": [
          [
            "sum",
            [
              "field",
              "cube_marketing_report.quantity",
              null
            ]
          ]
        ],
        "breakout": [
          [
            "field",
            "cube_marketing_report.start_date",
            {
              "temporal-unit": "day"
            }
          ],
          [
            "field",
            "cube_marketing_report.product",
            null
          ]
        ]
      },
      "type": "query"
    },
    "display": "bar",
    "visualization_settings": {
      "table.pivot": false,
      "stackable.stack_type": "stacked",
      "graph.dimensions": [
        "start_date",
        "product"
      ],
      "graph.metrics": [
        "sum"
      ]
    },
    "parameters": [],
    "result_metadata": [
      {
        "description": null,
        "semantic_type": "type/CreationDate",
        "coercion_strategy": null,
        "unit": "day",
        "name": "start_date",
        "settings": null,
        "field_ref": [
          "field",
          "cube_marketing_report.start_date",
          {
            "temporal-unit": "day"
          }
        ],
        "effective_type": "type/Date",
        "id": 744,
        "visibility_type": "normal",
        "display_name": "Start Date",
        "fingerprint": {
          "global": {
            "distinct-count": 27,
            "nil%": 0.0
          },
          "type": {
            "type/DateTime": {
              "earliest": "2023-01-09",
              "latest": "2023-02-20"
            }
          }
        },
        "base_type": "type/Date"
      },
      {
        "description": null,
        "semantic_type": "type/Category",
        "coercion_strategy": null,
        "name": "product",
        "settings": null,
        "field_ref": [
          "field",
          "cube_marketing_report.product",
          null
        ],
        "effective_type": "type/Text",
        "id": 746,
        "visibility_type": "normal",
        "display_name": "Product",
        "fingerprint": {
          "global": {
            "distinct-count": 3,
            "nil%": 0.0
          },
          "type": {
            "type/Text": {
              "percent-json": 0.0,
              "percent-url": 0.0,
              "percent-email": 0.0,
              "percent-state": 0.0,
              "average-length": 29.444444444444443
            }
          }
        },
        "base_type": "type/Text"
      },
      {
        "display_name": "Somme de Quantity",
        "semantic_type": null,
        "settings": null,
        "field_ref": [
          "aggregation",
          0
        ],
        "name": "sum",
        "base_type": "type/Float",
        "effective_type": "type/Float",
        "fingerprint": {
          "global": {
            "distinct-count": 5,
            "nil%": 0.0
          },
          "type": {
            "type/Number": {
              "min": 50.0,
              "q1": 93.54143466934853,
              "q3": 238.76275643042055,
              "max": 300.0,
              "sd": 90.63269671749659,
              "avg": 171.42857142857142
            }
          }
        }
      }
    ]
  },
  {
    "name": "Production Product and Quantity per Day",
    "description": null,
    "dataset_query": {
      "database": "Aroolla 2-PTA",
      "query": {
        "source-table": "cube_production",
        "filter": [
          "and",
          [
            "=",
            [
              "field",
              "cube_production.category",
              null
            ],
            "Ground Coffee Packs",
            "Coffee Pods",
            "Whole Beans Coffee Bags"
          ],
          [
            "=",
            [
              "field",
              "cube_production.company",
              null
            ],
            "F"
          ],
          [
            "=",
            [
              "field",
              "cube_production.classroom",
              null
            ],
            "2-PTA"
          ],
          [
            "=",
            [
              "field",
              "cube_production.game",
              null
            ],
            "BI2 2-PTA"
          ]
        ],
        "aggregation": [
          [
            "sum",
            [
              "field",
              "cube_production.quantity",
              null
            ]
          ]
        ],
        "breakout": [
          [
            "field",
            "cube_production.date_finished",
            {
              "temporal-unit": "day"
            }
          ],
          [
            "field",
            "cube_production.product",
            null
          ]
        ],
        "order-by": [
          [
            "asc",
            [
              "field",
              "cube_production.product",
              null
            ]
          ]
        ]
      },
      "type": "query"
    },
    "display": "bar",
    "visualization_settings": {
      "table.pivot": false,
      "stackable.stack_type": "stacked",
      "graph.show_goal": true,
      "graph.goal_value": 3000,
      "series_settings": {
        "Mocha Onctuoso Coffee Pods": {
          "color": "#A7D07C"
        },
        "Mocha Onctuoso Bag": {
          "color": "#88BF4D"
        },
        "Toraja Intenso Ground Coffee": {
          "color": "#ED8535"
        },
        "Cattura Generoso Coffee Pods": {
          "color": "#C8B4DA"
        },
        "Decaffeinato Fruttato Coffee Pods": {
          "color": "#C7EAEA"
        },
        "Toraja Intenso Bag": {
          "color": "#F2A86F"
        },
        "Cattura Generoso Bag": {
          "color": "#A989C5"
        },
        "Toraja Intenso Coffee Pods": {
          "color": "#F7CBA9"
        },
        "Decaffeinato Fruttato Ground Coffee": {
          "color": "#69C8C8"
        },
        "Decaffeinato Fruttato Bag": {
          "color": "#98D9D9"
        },
        "Cattura Generoso Ground Coffee": {
          "color": "#8A5EB0"
        },
        "Mocha Onctuoso Ground Coffee": {
          "color": "#689636"
        }
      },
      "graph.dimensions": [
        "date_finished",
        "product"
      ],
      "graph.metrics": [
        "sum"
      ]
    },
    "parameters": [],
    "result_metadata": [
      {
        "description": null,
        "semantic_type": null,
        "table_id": 85,
        "coercion_strategy": null,
        "unit": "day",
        "name": "date_finished",
        "settings": null,
        "source": "breakout",
        "field_ref": [
          "field",
          "cube_production.date_finished",
          {
            "temporal-unit": "day"
          }
        ],
        "effective_type": "type/Date",
        "nfc_path": null,
        "parent_id": null,
        "id": 956,
        "visibility_type": "normal",
        "display_name": "Date Finished",
        "fingerprint": {
          "global": {
            "distinct-count": 32,
            "nil%": 0.0
          },
          "type": {
            "type/DateTime": {
              "earliest": "2023-01-12",
              "latest": "2023-02-20"
            }
          }
        },
        "base_type": "type/Date"
      },
      {
        "description": null,
        "semantic_type": "type/Category",
        "table_id": 85,
        "coercion_strategy": null,
        "name": "product",
        "settings": null,
        "source": "breakout",
        "field_ref": [
          "field",
          "cube_production.product",
          null
        ],
        "effective_type": "type/Text",
        "nfc_path": null,
        "parent_id": null,
        "id": 970,
        "visibility_type": "normal",
        "display_name": "Product",
        "fingerprint": {
          "global": {
            "distinct-count": 14,
            "nil%": 0.0
          },
          "type": {
            "type/Text": {
              "percent-json": 0.0,
              "percent-url": 0.0,
              "percent-email": 0.0,
              "percent-state": 0.0,
              "average-length": 27.35843373493976
            }
          }
        },
        "base_type": "type/Text"
      },
      {
        "base_type": "type/Decimal",
        "semantic_type": null,
        "settings": null,
        "name": "sum",
        "display_name": "Somme de Quantity",
        "source": "aggregation",
        "field_ref": [
          "aggregation",
          0
        ]
      }
    ]
  },
  {
    "name": "Purchases Coffee Quantity per Day",
    "description": null,
    "dataset_query": {
      "database": "Aroolla 2-PTA",
      "query": {
        "source-table": "cube_purchases",
        "filter": [
          "and",
          [
            "=",
            [
              "field",
              "cube_purchases.game",
              null
            ],
            "BI2 2-PTA"
          ],
          [
            "=",
            [
              "field",
              "cube_purchases.company",
              null
            ],
            "E"
          ],
          [
            "=",
            [
              "field",
              "cube_purchases.category",
              null
            ],
            "Green Beans"
          ],
          [
            "=",
            [
              "field",
              "cube_purchases.classroom",
              null
            ],
            "2-PTA"
          ]
        ],
        "aggregation": [
          [
            "sum",
            [
              "field",
              "cube_purchases.quantity_ordered",
              null
            ]
          ]
        ],
        "breakout": [
          [
            "field",
            "cube_purchases.supplier",
            null
          ],
          [
            "field",
            "cube_purchases.date_purchase",
            {
              "temporal-unit": "day"
            }
          ]
        ]
      },
      "type": "query"
    },
    "display": "bar",
    "visualization_settings": {
      "graph.dimensions": [
        "date_purchase",
        "supplier"
      ],
      "graph.metrics": [
        "sum"
      ]
    },
    "parameters": [],
    "result_metadata": [
      {
        "description": null,
        "semantic_type": "type/Category",
        "table_id": 82,
        "coercion_strategy": null,
        "name": "supplier",
        "settings": null,
        "source": "breakout",
        "field_ref": [
          "field",
          "cube_purchases.supplier",
          null
        ],
        "effective_type": "type/Text",
        "nfc_path": null,
        "parent_id": null,
        "id": 840,
        "visibility_type": "normal",
        "display_name": "Supplier",
        "fingerprint": {
          "global": {
            "distinct-count": 4,
            "nil%": 0.0
          },
          "type": {
            "type/Text": {
              "percent-json": 0.0,
              "percent-url": 0.0,
              "percent-email": 0.0,
              "percent-state": 0.0,
              "average-length": 18.721649484536083
            }
          }
        },
        "base_type": "type/Text"
      },
      {
        "description": null,
        "semantic_type": null,
        "table_id": 82,
        "coercion_strategy": null,
        "unit": "day",
        "name": "date_purchase",
        "settings": null,
        "source": "breakout",
        "field_ref": [
          "field",
          "cube_purchases.date_purchase",
          {
            "temporal-unit": "day"
          }
        ],
        "effective_type": "type/Date",
        "nfc_path": null,
        "parent_id": null,
        "id": 839,
        "visibility_type": "normal",
        "display_name": "Date Purchase",
        "fingerprint": {
          "global": {
            "distinct-count": 28,
            "nil%": 0.0
          },
          "type": {
            "type/DateTime": {
              "earliest": "2022-11-16",
              "latest": "2023-02-19"
            }
          }
        },
        "base_type": "type/Date"
      },
      {
        "base_type": "type/Decimal",
        "semantic_type": null,
        "settings": null,
        "name": "sum",
        "display_name": "Somme de Quantity Ordered",
        "source": "aggregation",
        "field_ref": [
          "aggregation",
          0
        ]
      }
    ]
  },
  {
    "name": "Purchases Quantity and Price per Product and Supplier",
    "description": null,
    "dataset_query": {
      "database": "Aroolla 2-PTA",
      "query": {
        "source-table": "cube_purchases",
        "filter": [
          "and",
          [
            "=",
            [
              "field",
              "cube_purchases.game",
              null
            ],
            "BI2 2-PTA"
          ],
          [
            "=",
            [
              "field",
              "cube_purchases.invoice_status",
              null
            ],
            "invoiced"
          ],
          [
            "=",
            [
              "field",
              "cube_purchases.company",
              null
            ],
            "A"
          ],
          [
            "=",
            [
              "field",
              "cube_purchases.category",
              null
            ],
            "Green Beans",
            "Packaging"
          ],
          [
            "=",
            [
              "field",
              "cube_purchases.classroom",
              null
            ],
            "2-PTA"
          ]
        ],
        "aggregation": [
          [
            "sum",
            [
              "field",
              "cube_purchases.quantity_received",
              null
            ]
          ]
        ],
        "breakout": [
          [
            "field",
            "cube_purchases.product",
            null
          ],
          [
            "field",
            "cube_purchases.price_unit",
            null
          ],
          [
            "field",
            "cube_purchases.supplier",
            null
          ]
        ]
      },
      "type": "query"
    },
    "display": "pivot",
    "visualization_settings": {
      "graph.dimensions": [
        "date_purchase",
        "supplier"
      ],
      "pivot_table.column_split": {
        "rows": [
          [
            "field",
            "cube_purchases.product",
            null
          ],
          [
            "field",
            "cube_purchases.supplier",
            null
          ],
          [
            "field",
            "cube_purchases.price_unit",
            null
          ]
        ],
        "columns": [],
        "values": [
          [
            "aggregation",
            0
          ]
        ]
      },
      "column_settings": {
        "[\"ref\",[\"field\",137,null]]": {
          "pivot_table.column_show_totals": true
        }
      },
      "graph.metrics": [
        "sum",
        "sum"
      ]
    },
    "parameters": [],
    "result_metadata": [
      {
        "description": null,
        "semantic_type": "type/Category",
        "table_id": 82,
        "coercion_strategy": null,
        "name": "product",
        "settings": null,
        "source": "breakout",
        "field_ref": [
          "field",
          "cube_purchases.product",
          null
        ],
        "effective_type": "type/Text",
        "nfc_path": null,
        "parent_id": null,
        "id": 829,
        "visibility_type": "normal",
        "display_name": "Product",
        "fingerprint": {
          "global": {
            "distinct-count": 8,
            "nil%": 0.0
          },
          "type": {
            "type/Text": {
              "percent-json": 0.0,
              "percent-url": 0.0,
              "percent-email": 0.0,
              "percent-state": 0.0,
              "average-length": 16.991163475699558
            }
          }
        },
        "base_type": "type/Text"
      },
      {
        "description": null,
        "semantic_type": null,
        "table_id": 82,
        "coercion_strategy": null,
        "name": "price_unit",
        "settings": null,
        "source": "breakout",
        "field_ref": [
          "field",
          "cube_purchases.price_unit",
          null
        ],
        "effective_type": "type/Decimal",
        "nfc_path": null,
        "parent_id": null,
        "id": 827,
        "visibility_type": "normal",
        "display_name": "Price Unit",
        "fingerprint": {
          "global": {
            "distinct-count": 17,
            "nil%": 0.0
          },
          "type": {
            "type/Number": {
              "min": 0.02,
              "q1": 0.45379557281638405,
              "q3": 8.452270470858823,
              "max": 100.0,
              "sd": 31.545852310762402,
              "avg": 16.03774668630339
            }
          }
        },
        "base_type": "type/Decimal"
      },
      {
        "description": null,
        "semantic_type": "type/Category",
        "table_id": 82,
        "coercion_strategy": null,
        "name": "supplier",
        "settings": null,
        "source": "breakout",
        "field_ref": [
          "field",
          "cube_purchases.supplier",
          null
        ],
        "effective_type": "type/Text",
        "nfc_path": null,
        "parent_id": null,
        "id": 840,
        "visibility_type": "normal",
        "display_name": "Supplier",
        "fingerprint": {
          "global": {
            "distinct-count": 4,
            "nil%": 0.0
          },
          "type": {
            "type/Text": {
              "percent-json": 0.0,
              "percent-url": 0.0,
              "percent-email": 0.0,
              "percent-state": 0.0,
              "average-length": 18.721649484536083
            }
          }
        },
        "base_type": "type/Text"
      },
      {
        "base_type": "type/Decimal",
        "semantic_type": null,
        "settings": null,
        "name": "sum",
        "display_name": "Somme de Quantity Received",
        "source": "aggregation",
        "field_ref": [
          "aggregation",
          0
        ]
      }
    ]
  },
  {
    "name": "Sales Product Quantity per Day",
    "description": null,
    "dataset_query": {
      "type": "query",
      "query": {
        "source-table": "cube_sales",
        "aggregation": [
          [
            "sum",
            [
              "field",
              "cube_sales.quantity",
              null
            ]
          ]
        ],
        "breakout": [
          [
            "field",
            "cube_sales.date_due",
            {
              "temporal-unit": "day"
            }
          ],
          [
            "field",
            "cube_sales.product",
            null
          ]
        ],
        "order-by": [
          [
            "asc",
            [
              "field",
              "cube_sales.product",
              null
            ]
          ],
          [
            "asc",
            [
              "field",
              "cube_sales.date_due",
              {
                "temporal-unit": "day"
              }
            ]
          ]
        ],
        "filter": [
          "and",
          [
            "=",
            [
              "field",
              "cube_sales.game",
              null
            ],
            "BI2 2-PTA"
          ],
          [
            "=",
            [
              "field",
              "cube_sales.classroom",
              null
            ],
            "2-PTA"
          ],
          [
            "=",
            [
              "field",
              "cube_sales.company",
              null
            ],
            "A"
          ]
        ]
      },
      "database": "Aroolla 2-PTA"
    },
    "display": "bar",
    "visualization_settings": {
      "graph.dimensions": [
        "date_due",
        "product"
      ],
      "series_settings": {
        "Mocha Onctuoso Coffee Pods": {
          "display": "line",
          "line.interpolate": "step-after",
          "color": "#A7D07C"
        },
        "Mocha Onctuoso Bag": {
          "display": "line",
          "line.interpolate": "step-after",
          "color": "#88BF4D"
        },
        "Toraja Intenso Ground Coffee": {
          "display": "line",
          "line.interpolate": "step-after",
          "color": "#ED8535"
        },
        "Cattura Generoso Coffee Pods": {
          "display": "line",
          "line.interpolate": "step-after",
          "line.marker_enabled": null,
          "axis": null,
          "color": "#C8B4DA"
        },
        "Toraja Intenso Bag": {
          "display": "line",
          "line.interpolate": "step-after",
          "color": "#F2A86F"
        },
        "Cattura Generoso Bag": {
          "axis": null,
          "line.interpolate": "step-after",
          "color": "#A989C5"
        },
        "Toraja Intenso Coffee Pods": {
          "display": "line",
          "line.interpolate": "step-after",
          "color": "#F7CBA9"
        },
        "Decaffeinato Fruttato Ground Coffee": {
          "display": "line",
          "line.interpolate": "step-after",
          "color": "#C7EAEA"
        },
        "Decaffeinato Fruttato Bag": {
          "display": "line",
          "line.interpolate": "step-after",
          "color": "#98D9D9"
        },
        "Cattura Generoso Ground Coffee": {
          "display": "line",
          "line.interpolate": "step-after",
          "color": "#8A5EB0"
        },
        "Mocha Onctuoso Ground Coffee": {
          "display": "line",
          "line.interpolate": "step-after"
        }
      },
      "pivot_table.column_split": {
        "rows": [
          [
            "field",
            "cube_sales.date_due",
            {
              "temporal-unit": "day"
            }
          ]
        ],
        "columns": [
          [
            "field",
            "cube_sales.product",
            null
          ]
        ],
        "values": [
          [
            "aggregation",
            0
          ],
          [
            "aggregation",
            1
          ]
        ]
      },
      "scatter.bubble": "sum",
      "graph.show_goal": false,
      "graph.show_values": false,
      "stackable.stack_type": "stacked",
      "graph.metrics": [
        "sum"
      ]
    },
    "parameters": [],
    "result_metadata": [
      {
        "description": null,
        "semantic_type": null,
        "table_id": 81,
        "coercion_strategy": null,
        "unit": "day",
        "name": "date_due",
        "settings": null,
        "source": "breakout",
        "field_ref": [
          "field",
          "cube_sales.date_due",
          {
            "temporal-unit": "day"
          }
        ],
        "effective_type": "type/Date",
        "nfc_path": null,
        "parent_id": null,
        "id": 791,
        "visibility_type": "normal",
        "display_name": "Date Due",
        "fingerprint": {
          "global": {
            "distinct-count": 34,
            "nil%": 0.0
          },
          "type": {
            "type/DateTime": {
              "earliest": "2023-01-08",
              "latest": "2023-02-20"
            }
          }
        },
        "base_type": "type/Date"
      },
      {
        "description": null,
        "semantic_type": "type/Category",
        "table_id": 81,
        "coercion_strategy": null,
        "name": "product",
        "settings": null,
        "source": "breakout",
        "field_ref": [
          "field",
          "cube_sales.product",
          null
        ],
        "effective_type": "type/Text",
        "nfc_path": null,
        "parent_id": null,
        "id": 796,
        "visibility_type": "normal",
        "display_name": "Product",
        "fingerprint": {
          "global": {
            "distinct-count": 12,
            "nil%": 0.0
          },
          "type": {
            "type/Text": {
              "percent-json": 0.0,
              "percent-url": 0.0,
              "percent-email": 0.0,
              "percent-state": 0.0,
              "average-length": 25.818832391713748
            }
          }
        },
        "base_type": "type/Text"
      },
      {
        "base_type": "type/Decimal",
        "semantic_type": null,
        "settings": null,
        "name": "sum",
        "display_name": "Somme de Quantity",
        "source": "aggregation",
        "field_ref": [
          "aggregation",
          0
        ]
      }
    ]
  }
]